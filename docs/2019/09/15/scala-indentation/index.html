<!doctype html>
<html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Scala 3、Pythonのようにインデントベースの構文で書けるようになるってよ！ - cats cats cats</title><link rel="manifest" href="/cats-cats-cats/manifest.json"><meta name="application-name" content="cats cats cats"><meta name="msapplication-TileImage" content="/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="cats cats cats"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ここ数年でインデントベースの記述は広くプログラマ界隈で受け入れられるようになってきました。プログラミング言語ではPythonの成功が大きく、ドキュメントではmarkdownとyamlが広く普及しています。そしてScala 3でもとうとうその波に乗ろうという動きが見えてきました・・・ (2019年9月28日追記・更新: 追記内容はここを見てください)(2019年11月16日追記・更新: 追記内容はこ"><meta property="og:type" content="article"><meta property="og:title" content="Scala 3、Pythonのようにインデントベースの構文で書けるようになるってよ！"><meta property="og:url" content="https://hinastory.github.io/cats-cats-cats/2019/09/15/scala-indentation/"><meta property="og:site_name" content="cats cats cats"><meta property="og:description" content="ここ数年でインデントベースの記述は広くプログラマ界隈で受け入れられるようになってきました。プログラミング言語ではPythonの成功が大きく、ドキュメントではmarkdownとyamlが広く普及しています。そしてScala 3でもとうとうその波に乗ろうという動きが見えてきました・・・ (2019年9月28日追記・更新: 追記内容はここを見てください)(2019年11月16日追記・更新: 追記内容はこ"><meta property="og:locale" content="ja_JP"><meta property="og:image" content="https://hinastory.github.io/cats-cats-cats/gallery/thumbnails/dotty-logo.png"><meta property="article:published_time" content="2019-09-14T22:28:45.000Z"><meta property="article:modified_time" content="2021-02-13T01:23:55.971Z"><meta property="article:author" content="hinastory"><meta property="article:tag" content="Scala"><meta property="article:tag" content="Dotty"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/cats-cats-cats/gallery/thumbnails/dotty-logo.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hinastory.github.io/cats-cats-cats/2019/09/15/scala-indentation/"},"headline":"cats cats cats","image":["https://hinastory.github.io/cats-cats-cats/gallery/thumbnails/dotty-logo.png"],"datePublished":"2019-09-14T22:28:45.000Z","dateModified":"2021-02-13T01:23:55.971Z","author":{"@type":"Person","name":"hinastory"},"description":"ここ数年でインデントベースの記述は広くプログラマ界隈で受け入れられるようになってきました。プログラミング言語ではPythonの成功が大きく、ドキュメントではmarkdownとyamlが広く普及しています。そしてScala 3でもとうとうその波に乗ろうという動きが見えてきました・・・ (2019年9月28日追記・更新: 追記内容はここを見てください)(2019年11月16日追記・更新: 追記内容はこ"}</script><link rel="canonical" href="https://hinastory.github.io/cats-cats-cats/2019/09/15/scala-indentation/"><link rel="alternate" href="/cats-cats-cats/cats-cats-cats/atom.xml" title="cats cats cats" type="application/atom+xml"><link rel="icon" href="/cats-cats-cats/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/vs2015.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/cats-cats-cats/css/default.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><!--!--><!--!--><script src="https://www.googletagmanager.com/gtag/js?id=UA-132406459-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-132406459-1');</script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/cats-cats-cats/"><img src="/cats-cats-cats/gallery/profile/cats-cats-cats-logo.png" alt="cats cats cats" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/cats-cats-cats/"><i class="fa fa-home mr-1"></i> Home</a><a class="navbar-item" href="/cats-cats-cats/archives"><i class="fas fa-archive fa-fw mr-1"></i> Archives</a><a class="navbar-item" href="/cats-cats-cats/categories"><i class="fas fa-cat fa-fw mr-1"></i> Categories</a><a class="navbar-item" href="/cats-cats-cats/tags"><i class="fas fa-tags fa-fw mr-1"></i> Tags</a><a class="navbar-item" href="/cats-cats-cats/about"><i class="undefined mr-1"></i> About</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目次" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="検索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-3 is-size-4-mobile">Scala 3、Pythonのようにインデントベースの構文で書けるようになるってよ！</h1><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><span class="level-item"><i class="mr-1 fas fa-calendar-alt"></i><span>2019-09-15</span></span><span class="level-item"><i class="mr-1 fas fa-cat"></i><a class="link-muted" href="/cats-cats-cats/categories/Tech/">Tech</a><span> / </span><a class="link-muted" href="/cats-cats-cats/categories/Tech/Language/">Language</a></span><span class="level-item"><i class="fas fa-tags"></i><span><a class="link-muted ml-1" rel="tag" href="/cats-cats-cats/tags/Scala/">Scala</a>, <a class="link-muted ml-1" rel="tag" href="/cats-cats-cats/tags/Dotty/">Dotty</a></span></span></div></div><div class="card-image"><span class="image is-7by3"><img class="cover-image" src="/cats-cats-cats/gallery/thumbnails/dotty-logo.png"></span></div><div class="content"><p>ここ数年でインデントベースの記述は広くプログラマ界隈で受け入れられるようになってきました。プログラミング言語ではPythonの成功が大きく、ドキュメントではmarkdownとyamlが広く普及しています。そしてScala 3でもとうとうその波に乗ろうという動きが見えてきました・・・</p>
<p>(2019年9月28日追記・更新: 追記内容は<a href="/cats-cats-cats/2019/09/15/scala-indentation/#2019%E5%B9%B49%E6%9C%8828%E6%97%A5%E3%81%AE%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9">ここ</a>を見てください)<br>(2019年11月16日追記・更新: 追記内容は<a href="/cats-cats-cats/2019/09/15/scala-indentation/#2019%E5%B9%B411%E6%9C%8816%E6%97%A5%E3%81%AE%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9">ここ</a>を見てください)</p>
<span id="more"></span>
<h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><ul>
<li>Scala 3のリサーチコンパイラである<a href="https://github.com/lampepfl/dotty/releases/tag/0.18.1-RC1" title="" target="">Dotty 0.18.1-RC1<i class="fas fa-external-link-alt fa-fw"></i></a>にインデントベースの構文が実装されました<ul>
<li><a href="https://dotty.epfl.ch/blog/2019/09/23/19th-dotty-milestone-release.html" title="" target="">Dotty 0.19.0-RC1<i class="fas fa-external-link-alt fa-fw"></i></a>の変更に合わせて修正しました</li>
<li><a href="http://dotty.epfl.ch/blog/2019/11/04/20th-dotty-milestone-release.html" title="" target="">Dotty 0.20.0-RC1<i class="fas fa-external-link-alt fa-fw"></i></a>の変更に合わせて修正しました</li>
</ul>
</li>
<li>インデントベースの構文はまだ提案段階でありScala 3の正式な仕様に決定したわけではありません<ul>
<li>今後機能が変化したり、機能が採用されなかったりする可能性も十分あります</li>
<li>というか反対意見の方が多いです</li>
</ul>
</li>
<li>従来の括弧ベースの構文も混ぜて使えます</li>
<li>この記事はインデントベース構文の紹介記事です。この構文の良し悪しについては触れていません</li>
</ul>
<h2 id="まずはコードを御覧ください"><a href="#まずはコードを御覧ください" class="headerlink" title="まずはコードを御覧ください"></a>まずはコードを御覧ください</h2><p>ウソみたいだろ・・・Scalaなんだぜ、それ</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">IndentBasedExample</span></span><br><span class="hljs-class">  <span class="hljs-title">enum</span> <span class="hljs-title">Day</span></span><br><span class="hljs-class">    <span class="hljs-title">case</span> <span class="hljs-title">Monday</span>, <span class="hljs-title">Tuesday</span>, <span class="hljs-title">Wednesday</span>, <span class="hljs-title">Thursday</span>, <span class="hljs-title">Friday</span>, <span class="hljs-title">Saturday</span>, <span class="hljs-title">Sunday</span></span><br><span class="hljs-class">    <span class="hljs-title">def</span> <span class="hljs-title">isWeekend</span></span>: <span class="hljs-type">Boolean</span> = <span class="hljs-keyword">this</span> <span class="hljs-keyword">match</span><br>      <span class="hljs-keyword">case</span> <span class="hljs-type">Saturday</span> | <span class="hljs-type">Sunday</span> =&gt; <span class="hljs-literal">true</span><br>      <span class="hljs-keyword">case</span> _ =&gt; <span class="hljs-literal">false</span><br><br>  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fromString</span></span>(str: <span class="hljs-type">String</span>): <span class="hljs-type">Day</span> =<br>    <span class="hljs-keyword">try</span> <span class="hljs-type">Day</span>.valueOf(str)<br>      <span class="hljs-keyword">catch</span><br>        <span class="hljs-keyword">case</span> _: <span class="hljs-type">IllegalArgumentException</span> =&gt;<br>          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">IllegalArgumentException</span>(<span class="hljs-string">s"<span class="hljs-subst">$str</span> is not a valid day"</span>)<br>    end <span class="hljs-keyword">try</span><br>  end fromString<br><br>  <span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">A</span> <span class="hljs-keyword">with</span></span><br><span class="hljs-class">    <span class="hljs-title">def</span> <span class="hljs-title">f</span></span>: <span class="hljs-type">Int</span><br><br>  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> <span class="hljs-keyword">with</span></span><br><span class="hljs-class">    <span class="hljs-title">def</span> <span class="hljs-title">g</span></span>: <span class="hljs-type">Int</span> = <span class="hljs-number">27</span><br><br>  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span>(<span class="hljs-params">x: <span class="hljs-type">Int</span></span>) <span class="hljs-keyword">extends</span> <span class="hljs-title">B</span> <span class="hljs-keyword">with</span> <span class="hljs-title">A</span> <span class="hljs-keyword">with</span></span><br><span class="hljs-class">    <span class="hljs-title">def</span> <span class="hljs-title">f</span> </span>= x<br><br>  <span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">T</span> </span>= <span class="hljs-type">A</span> <span class="hljs-keyword">with</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span></span>: <span class="hljs-type">Int</span><br><br>  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">use</span></span>(dayString: <span class="hljs-type">String</span>) =<br>    <span class="hljs-keyword">val</span> day = fromString(dayString)<br><br>    <span class="hljs-keyword">if</span> day.isWeekend then<br>      println(<span class="hljs-string">"Today is a weekend"</span>)<br>      println(<span class="hljs-string">"I will rest"</span>)<br>    <span class="hljs-keyword">else</span><br>      println(<span class="hljs-string">"Today is a workday"</span>)<br>      println(<span class="hljs-string">"I will work"</span>)<br><br>    <span class="hljs-keyword">if</span> (day == <span class="hljs-type">Day</span>.<span class="hljs-type">Wednesday</span>)<br>      println(<span class="hljs-string">"Today is a Wednesday"</span>)<br>      println(<span class="hljs-string">"Bad Day"</span>)<br><br>    println(<span class="hljs-string">s"B().g is <span class="hljs-subst">${B().g}</span>."</span>)<br><br>    <span class="hljs-keyword">val</span> optNum =<br>      <span class="hljs-keyword">for</span><br>        x &lt;- <span class="hljs-type">Option</span>(<span class="hljs-number">3</span>)<br>        y &lt;- <span class="hljs-type">Option</span>(<span class="hljs-number">2</span>)<br>      <span class="hljs-keyword">yield</span><br>        x + y<br><br>    optNum <span class="hljs-keyword">match</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-type">Some</span>(x) <span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">4</span> =&gt; println(<span class="hljs-string">"bigger than 4"</span>)<br>    <span class="hljs-keyword">case</span> _ =&gt; println(<span class="hljs-string">"Other"</span>)<br><br>    <span class="hljs-keyword">val</span> z = <span class="hljs-type">List</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>) map:<br>      x =&gt;<br>        y = y - <span class="hljs-number">1</span><br>        y * y<br><br>    z.foreach:<br>      println<br><br><span class="hljs-meta">@main</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">example</span></span>: <span class="hljs-type">Unit</span> =<br>  <span class="hljs-type">IndentBaseExample</span>.use(<span class="hljs-string">"Monday"</span>)<br></code></pre></td></tr></tbody></table></figure>

<p>いつもはこんなコードを書いていたはず・・・</p>
<details><summary>従来のコード</summary><figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">BraceBasedExample</span> </span>{<br>  enum <span class="hljs-type">Day</span> {<br>    <span class="hljs-keyword">case</span> <span class="hljs-type">Monday</span>, <span class="hljs-type">Tuesday</span>, <span class="hljs-type">Wednesday</span>, <span class="hljs-type">Thursday</span>, <span class="hljs-type">Friday</span>, <span class="hljs-type">Saturday</span>, <span class="hljs-type">Sunday</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">isWeekend</span></span>: <span class="hljs-type">Boolean</span> = <span class="hljs-keyword">this</span> <span class="hljs-keyword">match</span> {<br>      <span class="hljs-keyword">case</span> <span class="hljs-type">Saturday</span> | <span class="hljs-type">Sunday</span> =&gt; <span class="hljs-literal">true</span><br>      <span class="hljs-keyword">case</span> _ =&gt; <span class="hljs-literal">false</span><br>    }<br>  }<br>  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fromString</span></span>(str: <span class="hljs-type">String</span>): <span class="hljs-type">Day</span> = {<br>    <span class="hljs-keyword">try</span> {<br>      <span class="hljs-type">Day</span>.valueOf(str)<br>    } <span class="hljs-keyword">catch</span> {<br>      <span class="hljs-keyword">case</span> _: <span class="hljs-type">IllegalArgumentException</span> =&gt;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">IllegalArgumentException</span>(<span class="hljs-string">s"<span class="hljs-subst">$str</span> is not a valid day"</span>)<br>    }<br>  }<br><br>  <span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">A</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span></span>: <span class="hljs-type">Int</span><br>  }<br><br>  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">g</span></span>: <span class="hljs-type">Int</span> = <span class="hljs-number">27</span><br>  }<br><br>  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span>(<span class="hljs-params">x: <span class="hljs-type">Int</span></span>) <span class="hljs-keyword">extends</span> <span class="hljs-title">B</span> <span class="hljs-keyword">with</span> <span class="hljs-title">A</span> </span>{<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span> </span>= x<br>  }<br><br>  <span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">T</span> </span>= <span class="hljs-type">A</span> {<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span></span>: <span class="hljs-type">Int</span><br>  }<br><br>  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">use</span></span>(dayString: <span class="hljs-type">String</span>) = {<br>    <span class="hljs-keyword">val</span> day = fromString(dayString)<br><br>    <span class="hljs-keyword">if</span> (day.isWeekend) {<br>      println(<span class="hljs-string">"Today is a weekend"</span>)<br>      println(<span class="hljs-string">"I will rest"</span>)<br>    } <span class="hljs-keyword">else</span> {<br>      println(<span class="hljs-string">"Today is a workday"</span>)<br>      println(<span class="hljs-string">"I will work"</span>)<br>    }<br><br>    <span class="hljs-keyword">if</span> (day == <span class="hljs-type">Day</span>.<span class="hljs-type">Wednesday</span>) {<br>      println(<span class="hljs-string">"Today is a Wednesday"</span>)<br>      println(<span class="hljs-string">"Bad Day"</span>)<br>    }<br><br>    println(<span class="hljs-string">s"B().g is <span class="hljs-subst">${B().g}</span>."</span>)<br><br>    <span class="hljs-keyword">val</span> optNum =<br>      <span class="hljs-keyword">for</span> {<br>        x &lt;- <span class="hljs-type">Option</span>(<span class="hljs-number">3</span>)<br>        y &lt;- <span class="hljs-type">Option</span>(<span class="hljs-number">2</span>)<br>      } <span class="hljs-keyword">yield</span> {<br>        x + y<br>      }<br><br>    optNum <span class="hljs-keyword">match</span> {<br>    <span class="hljs-keyword">case</span> <span class="hljs-type">Some</span>(x) <span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">4</span> =&gt; println(<span class="hljs-string">"bigger than 4"</span>)<br>    <span class="hljs-keyword">case</span> _ =&gt; println(<span class="hljs-string">"Other"</span>)<br>    }<br><br>    <span class="hljs-keyword">val</span> z = <span class="hljs-type">List</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>) map {<br>      x =&gt; {<br>        <span class="hljs-keyword">val</span> y = x - <span class="hljs-number">1</span><br>        y * y<br>      }<br>    }<br>    z.foreach(println)<br>  }<br>}<br><br><span class="hljs-meta">@main</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">example</span></span>: <span class="hljs-type">Unit</span> = {<br>  <span class="hljs-type">IndentBaseExample</span>.use(<span class="hljs-string">"Monday"</span>)<br>}<br></code></pre></td></tr></tbody></table></figure></details>


<h2 id="コードの解説"><a href="#コードの解説" class="headerlink" title="コードの解説"></a>コードの解説</h2><p>Pythonでインデントを用いてブロックを作る場合は改行の前に「:」が付きますが、Scalaの場合はもっと多くのキーワードがインデント構文の開始の合図になり得ます。</p>
<p><code>:</code>  <code>=</code>  <code>=&gt;</code>  <code>&lt;-</code>  <code>if</code>  <code>then</code>  <code>else</code>  <code>while</code>  <code>do</code>  <code>try</code>  <code>catch</code>  <code>finally</code>  <code>for</code>  <code>yield</code>  <code>match</code></p>
<p>また、<code>class</code>, <code>object</code>, <code>given</code>, や <code>enum</code>定義でもインデント構文を利用できます。</p>
<p>インデントはタブとスペースの両方が使えますが混ぜると比較ができないケースがあるので、混ぜるな危険です。</p>
<h3 id="定義"><a href="#定義" class="headerlink" title="定義"></a>定義</h3><p>以下は<code>object</code>の定義と<code>enum</code>の定義でインデント構文を開始しています。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">IndentBasedExample</span></span><br><span class="hljs-class">  <span class="hljs-title">enum</span> <span class="hljs-title">Day</span></span><br><span class="hljs-class">    <span class="hljs-title">case</span> <span class="hljs-title">Monday</span>, <span class="hljs-title">Tuesday</span>, <span class="hljs-title">Wednesday</span>, <span class="hljs-title">Thursday</span>, <span class="hljs-title">Friday</span>, <span class="hljs-title">Saturday</span>, <span class="hljs-title">Sunday</span></span><br><span class="hljs-class">    <span class="hljs-title">def</span> <span class="hljs-title">isWeekend</span></span>: <span class="hljs-type">Boolean</span> = <span class="hljs-keyword">this</span> <span class="hljs-keyword">match</span><br>      <span class="hljs-keyword">case</span> <span class="hljs-type">Saturday</span> | <span class="hljs-type">Sunday</span> =&gt; <span class="hljs-literal">true</span><br>      <span class="hljs-keyword">case</span> _ =&gt; <span class="hljs-literal">false</span><br></code></pre></td></tr></tbody></table></figure>

<p><code>enum</code>はScala 3(Dotty)の機能でScala 2にはありません。気になる方は「<a target="_blank" rel="noopener" href="https://dotty.epfl.ch/docs/reference/enums/enums.html">Enumerations</a>」を参照してください。</p>
<p>また、定義の行末を以下のように<code>with</code>で終わることもできます。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">A</span> <span class="hljs-keyword">with</span></span><br><span class="hljs-class">  <span class="hljs-title">def</span> <span class="hljs-title">f</span></span>: <span class="hljs-type">Int</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> <span class="hljs-keyword">with</span></span><br><span class="hljs-class">  <span class="hljs-title">def</span> <span class="hljs-title">g</span></span>: <span class="hljs-type">Int</span> = <span class="hljs-number">27</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C</span>(<span class="hljs-params">x: <span class="hljs-type">Int</span></span>) <span class="hljs-keyword">extends</span> <span class="hljs-title">B</span> <span class="hljs-keyword">with</span> <span class="hljs-title">A</span> <span class="hljs-keyword">with</span></span><br><span class="hljs-class">  <span class="hljs-title">def</span> <span class="hljs-title">f</span> </span>= x<br><br><span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">T</span> </span>= <span class="hljs-type">A</span> <span class="hljs-keyword">with</span><br>  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span></span>: <span class="hljs-type">Int</span><br></code></pre></td></tr></tbody></table></figure>

<p><code>with</code>はオプションですが、インデント構文を使う場合は、基本的につけたほうが良さそうです。例えば、以下のようにクラスBの定義で次の行にインデントをつけ忘れた場合、<code>with</code>があるとコンパイラが構文エラーにしてくれます。<br>もし、<code>with</code>をつけていなかった場合はエラーにはならずに、<code>def</code>から始まる関数定義はクラスBに所属するのではなくクラスBと同じ名前空間のメソッドとして定義されてしまいます。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> <span class="hljs-keyword">with</span> <span class="hljs-comment">// `with`をつけているのでインデントを次行でつけ忘れても構文エラーになる</span></span><br><span class="hljs-class"><span class="hljs-title">def</span> <span class="hljs-title">g</span></span>: <span class="hljs-type">Int</span> = <span class="hljs-number">27</span><br></code></pre></td></tr></tbody></table></figure>

<h3 id="if式"><a href="#if式" class="headerlink" title="if式"></a><code>if</code>式</h3><p><code>if</code>式の場合は、インデントブロック開始の合図が「<code>then</code>」になります。<del>最初<code>then</code>を書き忘れたらコンパイラに<code>then</code>がないって怒られて、<code>then</code>ってなんぞや？？？となりました。どうやら新しいキーワードみたいです。</del><br>行末の<code>then</code>は0.20.0-RC-1でオプションになりました。つまり以下の<code>then</code>がなくても正しい構文になります。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">if</span> day.isWeekend then<br>  println(<span class="hljs-string">"Today is a weekend"</span>)<br>  println(<span class="hljs-string">"I will rest"</span>)<br><span class="hljs-keyword">else</span><br>  println(<span class="hljs-string">"Today is a workday"</span>)<br>  println(<span class="hljs-string">"I will work"</span>)<br></code></pre></td></tr></tbody></table></figure>

<p><code>if</code>式で括弧を用いる場合は<code>then</code>は必要ありません。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">if</span> (day == <span class="hljs-type">Day</span>.<span class="hljs-type">Wednesday</span>)<br>  println(<span class="hljs-string">"Today is a Wednesday"</span>)<br>  println(<span class="hljs-string">"Bad Day"</span>)<br></code></pre></td></tr></tbody></table></figure>

<h3 id="for式"><a href="#for式" class="headerlink" title="for式"></a><code>for</code>式</h3><p>以下のコードには<code>=</code>と<code>for</code>と<code>yield</code>がインデント構文の開始の合図になっています。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">val</span> optNum =<br>  <span class="hljs-keyword">for</span><br>    x &lt;- <span class="hljs-type">Option</span>(<span class="hljs-number">3</span>)<br>    y &lt;- <span class="hljs-type">Option</span>(<span class="hljs-number">2</span>)<br>  <span class="hljs-keyword">yield</span><br>    x + y<br></code></pre></td></tr></tbody></table></figure>

<h3 id="match式"><a href="#match式" class="headerlink" title="match式"></a><code>match</code>式</h3><p><code>match</code>式は少し特殊でインデントを付けても付けなくてもいいことになっています。つまり以下の２つの書き方が許容されます。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scala">optNum <span class="hljs-keyword">match</span><br><span class="hljs-keyword">case</span> <span class="hljs-type">Some</span>(x) <span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">4</span> =&gt; println(<span class="hljs-string">"bigger than 4"</span>)<br><span class="hljs-keyword">case</span> _ =&gt; println(<span class="hljs-string">"Other"</span>)<br></code></pre></td></tr></tbody></table></figure>

<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scala">optNum <span class="hljs-keyword">match</span><br>  <span class="hljs-keyword">case</span> <span class="hljs-type">Some</span>(x) <span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">4</span> =&gt; println(<span class="hljs-string">"bigger than 4"</span>)<br>  <span class="hljs-keyword">case</span> _ =&gt; println(<span class="hljs-string">"Other"</span>)<br></code></pre></td></tr></tbody></table></figure>

<p><code>match</code>以外には<code>catch</code>も同様に次の<code>case</code>のインデントは自由です。</p>
<h3 id="ラムダ式"><a href="#ラムダ式" class="headerlink" title="ラムダ式"></a>ラムダ式</h3><p>ラムダ式の記号(<code>=&gt;</code>)もインデント構文の開始の合図になっています。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scala">x =&gt;<br>  y = y - <span class="hljs-number">1</span><br>  y * y<br></code></pre></td></tr></tbody></table></figure>

<h2 id="エンドマーカー"><a href="#エンドマーカー" class="headerlink" title="エンドマーカー"></a>エンドマーカー</h2><p>インデントだとブロックの終わりがわかりにくい場合には、エンドマーカーを使ってブロックの終わりを明示することができます。以下のコードでは「<code>end fromString</code>」が識別子のエンドマーカーです。エンドマーカーはオプションなのでなくても問題なく動作しますが、ドキュメントではひと目でブロックを識別することが難しい長いブロック(20行以上)で使うことを推奨しています。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fromString</span></span>(str: <span class="hljs-type">String</span>): <span class="hljs-type">Day</span> =<br>  <span class="hljs-keyword">try</span> <span class="hljs-type">Day</span>.valueOf(str)<br>    <span class="hljs-keyword">catch</span><br>      <span class="hljs-keyword">case</span> _: <span class="hljs-type">IllegalArgumentException</span> =&gt;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">IllegalArgumentException</span>(<span class="hljs-string">s"<span class="hljs-subst">$str</span> is not a valid day"</span>)<br>  end <span class="hljs-keyword">try</span><br>end fromString<br></code></pre></td></tr></tbody></table></figure>

<p>エンドマーカーは以下の予約語と合わせて用いることもできます。</p>
<p><code>if</code>  <code>while</code>  <code>for</code>  <code>match</code>  <code>try</code>  <code>new</code></p>
<p>上記の例では「<code>end try</code>」がエンドマーカーになっています。</p>
<h3 id="インデントマーカー"><a href="#インデントマーカー" class="headerlink" title="インデントマーカー:"></a>インデントマーカー<code>:</code></h3><p>次はPythonっぽい、行末コロン(<code>:</code>)の例です。開き中括弧(<code>{</code>)が有効な箇所で行末をコロンにするとインデント構文を開始することができます。以下の例では<code>map</code>の後にインデントマーカー<code>:</code>が付いています。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">val</span> z = <span class="hljs-type">List</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>) map:<br>  x =&gt;<br>    y = y - <span class="hljs-number">1</span><br>    y * y<br></code></pre></td></tr></tbody></table></figure>

<p>ただし、このインデントマーカーはまだ他のインデントスキームよりも議論の余地が大きく、コンパイラオプションに<code>-Yindent-colons</code>を指定した時だけ有効になります。</p>
<h2 id="設定と書換え"><a href="#設定と書換え" class="headerlink" title="設定と書換え"></a>設定と書換え</h2><p>インデント構文はデフォルトで有効ですが、コンパイラオプション<code>-noindent</code>, <code>-old-syntax</code>,<code>-language:Scala2</code>のいずれかを指定すれば無効にできます。実際に試してみましたがインデント構文を利用している箇所はエラーになってコンパイルができなくなりました。</p>
<p>また、コンパイラオプションでインデント構文への書換えもできます。インデント構文への書換えは<code>-rewrite</code> <code>-new-syntax</code>オプションをつけてコンパイル後に、もう一度<code>-rewrite</code> <code>-indent</code>オプションをつけてコンパイルする必要があります。つまり面倒ですが2回コンパイラを起動する必要があります。この書換えは上手くいきました。</p>
<p>逆方向の書換えを行うには<code>-rewrite</code> <code>-noindent</code>オプションをつけてコンパイル後に、もう一度を<code>-rewrite</code> <code>-old-syntax</code>つけてコンパイルします。この書換えは<code>0.19.0-RC1</code>時点では失敗しました。どうやらエンドマーカーの書換えで失敗しているようです。</p>
<h3 id="main関数"><a href="#main関数" class="headerlink" title="@main関数"></a><code>@main</code>関数</h3><p>インデント構文とは欠片も関係ありませんが、0.18.1-RC1で導入された<code>@main</code>関数についても紹介しておきます。従来は以下のように書いていたmain関数ですが<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>、</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">Example</span> </span>{<br>  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = <span class="hljs-type">IndentBaseExample</span>.use(<span class="hljs-string">"Monday"</span>)<br>}<br></code></pre></td></tr></tbody></table></figure>

<p><code>@main</code>関数を使うと以下のように書くことができます。Scalaのスクリプティングが捗りそうです<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>。</p>
<figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-meta">@main</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">example</span></span>: <span class="hljs-type">Unit</span> = <span class="hljs-type">IndentBaseExample</span>.use(<span class="hljs-string">"Monday"</span>)<br></code></pre></td></tr></tbody></table></figure>



<h3 id="今すぐ試してみたい"><a href="#今すぐ試してみたい" class="headerlink" title="今すぐ試してみたい!"></a>今すぐ試してみたい!</h3><p>上記のサンプルコードをすぐに試せるようにGitHubに公開したのでご査収ください。インデントベースの構文と従来のブレースベースの構文はどちらも有効なので、実際に触ってみて感触を掴むのが一番だと思われます。念のため書いておきますが、サンプルコード自体に特に意味はありません。インデントベースの構文の雰囲気が分かるように適当に構文を並べただけです。</p>
<ul>
<li><a href="https://github.com/hinastory/dotty_examples" title="" target="">hinastory/dotty_examples: Example code of Dotty (Scala 3)<i class="fas fa-external-link-alt fa-fw"></i></a>
<ul>
<li><a href="https://github.com/hinastory/dotty_examples/blob/master/src/main/scala/indent_based/IndentBasedExample.scala" title="" target="">IndentBasedExample.scala<i class="fas fa-external-link-alt fa-fw"></i></a>

</li>
</ul>
</li>
</ul>
<a target="_blank" rel="noopener" href="https://github.com/hinastory/dotty_examples"><img src="https://gh-card.dev/repos/hinastory/dotty_examples.svg?fullname"></a>

<h2 id="インデントベース構文の状況"><a href="#インデントベース構文の状況" class="headerlink" title="インデントベース構文の状況"></a>インデントベース構文の状況</h2><p>インデントベースへの変更は実は2017年にOdersky先生が<a href="https://github.com/lampepfl/dotty/issues/2491" title="" target="">#2491<i class="fas fa-external-link-alt fa-fw"></i></a>で提案されていて、このときは大激論の末に一旦クローズされています<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>。そしてようやく今回執念のプルリク(<a href="https://github.com/lampepfl/dotty/pull/7083" title="" target="">#7083<i class="fas fa-external-link-alt fa-fw"></i></a>)を投げて、捩じ込みました。</p>
<p>「捩じ込む」と表現したのは今回も当然のように大激論が起こったからです。見た目が違うから拡張子変えた方がいいという意見や、読みにくさや曖昧さを指摘する意見や、初学者の混乱を指摘する意見まで様々です。</p>
<p>Odersky先生もこのプルリクはデータを集めるための実験としており、現在のところこのインデント構文はScala 3の新機能の中でも採用される可能性が最も低いものの一つだと考えられます。以下は#7083のリアクションですが、こんなに嫌われているプルリクには滅多にお目にかかれません(笑)。</p>
<img src="/cats-cats-cats/gallery/daily/others/dotty-indentation-reaction.png" class="" width="500">

<p>経緯はともかくOdersky先生の壮大な実験は始まりました。Scalaのようにある程度普及した言語が途中からインデントベースの構文をサポートした例を自分は知りません。今後の成り行きが気になるところですが、Scala 3.0の機能凍結及びScala 3.0のM1リリースは今年(2019年)の秋で、Scala 3.0 finalのリリースは来年(2020年)秋と言われているので<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup>、何か言いたいことがある方はなるべく早めに本家にフィードバックをかけた方が良いと思われます<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup>。</p>
<p>ちなみに本記事はあくまでインデントベース構文の紹介が目的なので、この構文の良し悪しについて突っ込んだ批評は控えておきます。ただ一応参考までに個人的な初見の感想を述べておくと、自分が趣味で使うのには良さそうな感じです。仕事で使うのにはコーディング規約をどうするか悩みどころが多いと感じましたが、結局はエディタ、IDE、フォーマッタ、リンタ等のツール群のサポートがきちんと得られれば使えるとは思うので、それらの対応次第かなと思っています。</p>
<h2 id="最後に"><a href="#最後に" class="headerlink" title="最後に"></a>最後に</h2><p>本記事ではScala 3へ入る可能性のあるインデントベースの構文を紹介しました。本機能は実際にScala 3に入るかどうかはわかりませんが、まだ多くの議論の余地があり、より多くのフィードバックが必要とされています。興味のある方は実際に触ってみて<a href="https://contributors.scala-lang.org/" title="" target="">Scala Contributors<i class="fas fa-external-link-alt fa-fw"></i></a>等でフィードバックしてみてはいかがでしょうか？</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a href="https://dotty.epfl.ch/blog/2019/08/30/18th-dotty-milestone-release.html" title="" target="">Announcing Dotty 0.18.1-RC1 – switch to the 2.13 standard library, indentation-based syntax and other experiments<i class="fas fa-external-link-alt fa-fw"></i></a></li>
<li><a href="https://dotty.epfl.ch/blog/2019/09/23/19th-dotty-milestone-release.html" title="" target="">Announcing Dotty 0.19.0-RC1 – further refinements of the syntax and the migration to 2.13.1 standard library<i class="fas fa-external-link-alt fa-fw"></i></a></li>
<li><a href="https://github.com/lampepfl/dotty/pull/7083" title="" target="">Allow significant indentation syntax by odersky · Pull Request #7083 · lampepfl/dotty<i class="fas fa-external-link-alt fa-fw"></i></a></li>
<li><a href="https://github.com/lampepfl/dotty/pull/7114" title="" target="">Change indentation rules to allow copy-paste by odersky · Pull Request #7114 · lampepfl/dotty<i class="fas fa-external-link-alt fa-fw"></i></a></li>
<li><a href="https://github.com/lampepfl/dotty/issues/2491" title="" target="">Consider syntax with significant indentation · Issue #2491 · lampepfl/dotty<i class="fas fa-external-link-alt fa-fw"></i></a></li>
<li><a href="https://dotty.epfl.ch/docs/reference/other-new-features/indentation.html" title="" target="">Optional Braces<i class="fas fa-external-link-alt fa-fw"></i></a>

</li>
</ul>
<h2 id="更新内容"><a href="#更新内容" class="headerlink" title="更新内容"></a>更新内容</h2><h3 id="2019年9月28日の更新内容"><a href="#2019年9月28日の更新内容" class="headerlink" title="2019年9月28日の更新内容"></a>2019年9月28日の更新内容</h3><p>先日発表された<a href="https://dotty.epfl.ch/blog/2019/09/23/19th-dotty-milestone-release.html" title="" target="">Dotty 0.19.0-RC1<i class="fas fa-external-link-alt fa-fw"></i></a>でインデント構文が若干変更されました。</p>
<ul>
<li>クラスやオブジェクトの定義でインデントをする場合に<code>:</code>が必要なくなった</li>
<li>インデントマーカー<code>:</code>の利用時には<code>-Yindent-colons</code>のオプションの指定が必要になった</li>
</ul>
<p>上記の内容は本文にも反映済みです。またインデント構文への書換えも試してみたので追記を行っています。</p>
<p>下記のサンプルリポジトリに関しても0.19.0-RC1にバージョンアップして対応済みです。</p>
<a target="_blank" rel="noopener" href="https://github.com/hinastory/dotty_examples"><img src="https://gh-card.dev/repos/hinastory/dotty_examples.svg?fullname"></a>

<h3 id="2019年11月16日の更新内容"><a href="#2019年11月16日の更新内容" class="headerlink" title="2019年11月16日の更新内容"></a>2019年11月16日の更新内容</h3><p>先日発表された<a href="http://dotty.epfl.ch/blog/2019/11/04/20th-dotty-milestone-release.html" title="" target="">Dotty 0.20.0-RC1<i class="fas fa-external-link-alt fa-fw"></i></a>でインデント構文が若干変更されました。<br>インデントに関係ある変更は以下のとおりです。関連する箇所に関して記事の追記を行っています。</p>
<ul>
<li>クラス、トレイトの後ろにオプションで<code>with</code>を置けるようになった<ul>
<li>インデントのし忘れを防ぐため</li>
<li><a href="https://github.com/lampepfl/dotty/pull/7363" title="" target="">Tweaks to indent syntax by odersky · Pull Request #7363 · lampepfl/dotty<i class="fas fa-external-link-alt fa-fw"></i></a></li>
</ul>
</li>
<li><code>if</code>式の行末の<code>then</code>がオプションになった<ul>
<li><a href="https://github.com/lampepfl/dotty/pull/7276" title="" target="">Make `then` optional at line end by odersky · Pull Request #7276 · lampepfl/dotty<i class="fas fa-external-link-alt fa-fw"></i></a>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;"><code>App</code>トレイトをミックスインして書く方法もあります。</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><code>@main</code>関数は引数をとることもできてコマンドライン引数を受け取れるのですが、話が脱線するのでこの記事ではこれ以上は触れません。</span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;">#2491も今回と似たような提案ですが、大きな違いは<code>with</code>がインデントマーカーとして使われているところです。またエンドマーカーも現在とは異なっていました。</span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;"><a href="https://www.slideshare.net/Odersky/a-tour-of-scala-3" title="" target="">A Tour of Scala 3<i class="fas fa-external-link-alt fa-fw"></i></a>を参照。</span><a href="#fnref:4" rev="footnote"> ↩</a></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">5.</span><span style="display: inline-block; vertical-align: top;">フィードバックの方法としては<a href="https://contributors.scala-lang.org/" title="" target="">Scala Contributors<i class="fas fa-external-link-alt fa-fw"></i></a>でトピックを立てるのが一番簡単だと思われます。もちろん問題が明確ならイシューを開いたりプルリクを送る方法もあります。</span><a href="#fnref:5" rev="footnote"> ↩</a></li></ol></div></div></li>
</ul>
</li>
</ul>
</div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_hatena"></a><a class="a2a_button_reddit"></a></div><script async src="https://static.addtoany.com/menu/page.js"></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/cats-cats-cats/2019/09/23/interpreter-compiler/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">ベン図を使って、インタプリタとコンパイラの違いを説明してみる</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/cats-cats-cats/2019/09/11/fileconv/"><span class="level-item">長年育て続けた秘蔵の一括ファイル変換ライブラリを晒してみる</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div><div class="popular-posts-box"><div class="popular-posts-box-title">関連する記事</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2021/03/16/contextual-abstructions/" title="Contextual Abstractionsで様々なコンテキストをうまく抽象化する" rel="bookmark"><img src="/cats-cats-cats/gallery/thumbnails/eiga_film.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2021-03-16</div><a href="/cats-cats-cats/2021/03/16/contextual-abstructions/" title="Contextual Abstractionsで様々なコンテキストをうまく抽象化する" rel="bookmark">Contextual Abstractionsで様々なコンテキストをうまく抽象化する</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2019/02/24/scala-dotty-contextual-abstractions/" title="Scala3に入るかもしれないContextual Abstractionsを味見してみた(更新・追記あり)" rel="bookmark"><img src="/cats-cats-cats/gallery/thumbnails/dotty-logo.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2019-02-24</div><a href="/cats-cats-cats/2019/02/24/scala-dotty-contextual-abstractions/" title="Scala3に入るかもしれないContextual Abstractionsを味見してみた(更新・追記あり)" rel="bookmark">Scala3に入るかもしれないContextual Abstractionsを味見してみた(更新・追記あり)</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2020/02/11/scala3_programming_category/" title="Scala3と圏論とプログラミング" rel="bookmark"><img src="/cats-cats-cats/gallery/thumbnails/scala3_cats.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2020-02-11</div><a href="/cats-cats-cats/2020/02/11/scala3_programming_category/" title="Scala3と圏論とプログラミング" rel="bookmark">Scala3と圏論とプログラミング</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2019/04/30/understanding-pattern-matching/" title="全プログラマに捧ぐ！図解「パターンマッチ」" rel="bookmark"><img src="/cats-cats-cats/gallery/daily/algorithm/pattern-match/pattern-01.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2019-04-30</div><a href="/cats-cats-cats/2019/04/30/understanding-pattern-matching/" title="全プログラマに捧ぐ！図解「パターンマッチ」" rel="bookmark">全プログラマに捧ぐ！図解「パターンマッチ」</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2019/07/04/scala-matsuri-2019/" title="ScalaMatsuri 2019に参加してきました" rel="bookmark"><img src="/cats-cats-cats/gallery/thumbnails/scala-matsuri-logo.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2019-07-04</div><a href="/cats-cats-cats/2019/07/04/scala-matsuri-2019/" title="ScalaMatsuri 2019に参加してきました" rel="bookmark">ScalaMatsuri 2019に参加してきました</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2019/07/20/learning-category-theory/" title="Scalaプログラマが圏論を学ぶためのオススメ文献 - 3選" rel="bookmark"><img src="/cats-cats-cats/gallery/profile/cats-cats-cats-logo.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2019-07-20</div><a href="/cats-cats-cats/2019/07/20/learning-category-theory/" title="Scalaプログラマが圏論を学ぶためのオススメ文献 - 3選" rel="bookmark">Scalaプログラマが圏論を学ぶためのオススメ文献 - 3選</a></h3></div></li></ul></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最近の記事</h3><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/12/23/sagemaker-studio-lab-rust/"><img src="/cats-cats-cats/gallery/thumbnails/rust-sagemaker-studio-lab.png" alt="無料でRustのJupyterLab機械学習環境を作る in AWS"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-12-22T22:28:45.000Z">2021-12-23</time></p><p class="title"><a href="/cats-cats-cats/2021/12/23/sagemaker-studio-lab-rust/">無料でRustのJupyterLab機械学習環境を作る in AWS</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/MachineLearning/">MachineLearning</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/09/13/aws-soa-c02/"><img src="/cats-cats-cats/gallery/daily/others/aws-soa.png" alt="AWS認定に追加された実技試験「試験ラボ」をくぐり抜けて合格した話(SOA-C02)"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-09-12T22:28:45.000Z">2021-09-13</time></p><p class="title"><a href="/cats-cats-cats/2021/09/13/aws-soa-c02/">AWS認定に追加された実技試験「試験ラボ」をくぐり抜けて合格した話(SOA-C02)</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/CloudNative/">CloudNative</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/07/24/it-engineer-diet/"><img src="/cats-cats-cats/gallery/thumbnails/diet_after_man.png" alt="コロナ禍のITエンジニアがダイエットしてみた　〜 3ヶ月で9kgの減量 〜"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-23T22:28:45.000Z">2021-07-24</time></p><p class="title"><a href="/cats-cats-cats/2021/07/24/it-engineer-diet/">コロナ禍のITエンジニアがダイエットしてみた　〜 3ヶ月で9kgの減量 〜</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Miscellaneous/">Miscellaneous</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/03/16/contextual-abstructions/"><img src="/cats-cats-cats/gallery/thumbnails/eiga_film.png" alt="Contextual Abstractionsで様々なコンテキストをうまく抽象化する"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-03-15T22:28:45.000Z">2021-03-16</time></p><p class="title"><a href="/cats-cats-cats/2021/03/16/contextual-abstructions/">Contextual Abstractionsで様々なコンテキストをうまく抽象化する</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Language/">Language</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/02/22/access-analytics/"><img src="/cats-cats-cats/gallery/profile/cats-cats-cats-logo.png" alt="猫の日なので「cats cats cats」のGoogleアナリティクスとGoogleサーチコンソールの結果を晒してみる"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-02-21T22:28:45.000Z">2021-02-22</time></p><p class="title"><a href="/cats-cats-cats/2021/02/22/access-analytics/">猫の日なので「cats cats cats」のGoogleアナリティクスとGoogleサーチコンソールの結果を晒してみる</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Miscellaneous/">Miscellaneous</a></p></div></article></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">リンク</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://zenn.dev/hinastory" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Zenn - hinastory</span></span><span class="level-right"><span class="level-item tag">zenn.dev</span></span></a></li><li><a class="level is-mobile" href="https://qiita.com/hinastory" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Qiita - hinastory</span></span><span class="level-right"><span class="level-item tag">qiita.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">カテゴリ</h3><ul class="menu-list"><li><a class="level is-mobile" href="/cats-cats-cats/categories/DIY/"><span class="level-start"><span class="level-item">DIY</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/cats-cats-cats/categories/DIY/Keyboard/"><span class="level-start"><span class="level-item">Keyboard</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/"><span class="level-start"><span class="level-item">Tech</span></span><span class="level-end"><span class="level-item tag">53</span></span></a><ul><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Book/"><span class="level-start"><span class="level-item">Book</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/CloudNative/"><span class="level-start"><span class="level-item">CloudNative</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/ComputerScience/"><span class="level-start"><span class="level-item">ComputerScience</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Event/"><span class="level-start"><span class="level-item">Event</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Language/"><span class="level-start"><span class="level-item">Language</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/MachineLearning/"><span class="level-start"><span class="level-item">MachineLearning</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Miscellaneous/"><span class="level-start"><span class="level-item">Miscellaneous</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">アーカイブ</h3><ul class="menu-list"><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/12/"><span class="level-start"><span class="level-item">2021-12</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/09/"><span class="level-start"><span class="level-item">2021-09</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/07/"><span class="level-start"><span class="level-item">2021-07</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/03/"><span class="level-start"><span class="level-item">2021-03</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/02/"><span class="level-start"><span class="level-item">2021-02</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2020/"><span class="level-start"><span class="level-item">2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2019/"><span class="level-start"><span class="level-item">2019</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2018/"><span class="level-start"><span class="level-item">2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">タグ</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/AWS/"><span class="tag">AWS</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/AdventCalendar/"><span class="tag">AdventCalendar</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Azure/"><span class="tag">Azure</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Blog/"><span class="tag">Blog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Book/"><span class="tag">Book</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/CDK/"><span class="tag">CDK</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/CategoryTheory/"><span class="tag">CategoryTheory</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Cats/"><span class="tag">Cats</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Certification/"><span class="tag">Certification</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Compiler/"><span class="tag">Compiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Container/"><span class="tag">Container</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Diet/"><span class="tag">Diet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Dotty/"><span class="tag">Dotty</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Environment/"><span class="tag">Environment</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/ErgoDash/"><span class="tag">ErgoDash</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Event/"><span class="tag">Event</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Exam/"><span class="tag">Exam</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/FizzBuzz/"><span class="tag">FizzBuzz</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Flourish/"><span class="tag">Flourish</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/GCP/"><span class="tag">GCP</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Git/"><span class="tag">Git</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Go/"><span class="tag">Go</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/IaC/"><span class="tag">IaC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Interpreter/"><span class="tag">Interpreter</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Jupyter/"><span class="tag">Jupyter</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Keras/"><span class="tag">Keras</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Keyboard/"><span class="tag">Keyboard</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Keymap/"><span class="tag">Keymap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/M1/"><span class="tag">M1</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/MLOps/"><span class="tag">MLOps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Mac/"><span class="tag">Mac</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/MachineLearning/"><span class="tag">MachineLearning</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/MakerFaire/"><span class="tag">MakerFaire</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Mind/"><span class="tag">Mind</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Minikube/"><span class="tag">Minikube</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/OGP/"><span class="tag">OGP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Qiita/"><span class="tag">Qiita</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/ReView/"><span class="tag">ReView</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Ruby/"><span class="tag">Ruby</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Rust/"><span class="tag">Rust</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/SEO/"><span class="tag">SEO</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Scala/"><span class="tag">Scala</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Serverless/"><span class="tag">Serverless</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/StepFunctions/"><span class="tag">StepFunctions</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/TensorFlow/"><span class="tag">TensorFlow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/WFH/"><span class="tag">WFH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Web/"><span class="tag">Web</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/WebAnalytics/"><span class="tag">WebAnalytics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/gRPC/"><span class="tag">gRPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/html5/"><span class="tag">html5</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/k8s/"><span class="tag">k8s</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/npm/"><span class="tag">npm</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/oEmbed/"><span class="tag">oEmbed</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/pulumi/"><span class="tag">pulumi</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div class="level"><figure class="level-item image is-64x64 mx-auto"><img class="avatar is-rounded" src="https://www.gravatar.com/avatar/1d029a154310d0edb970e8caaf5dc5ec?s=128" alt="hinastory"></figure><div class="level-item"><div><p class="title is-size-4 is-block ml-1" style="line-height:inherit;display:block;">hinastory</p><p class="is-size-6 is-flex justify-content-center ml-3"><i class="fas fa-map-marker-alt mr-1"></i><span>Kanagawa, Japan</span></p></div></div></div></div></nav><nav class="level is-mobile"><p class="is-size-6 is-block">The more you reason the less you create</p></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">投稿</p><a href="/cats-cats-cats/archives"><p class="title">57</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">カテゴリ</p><a href="/cats-cats-cats/categories"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">タグ</p><a href="/cats-cats-cats/tags"><p class="title">57</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hinastory/"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/hinastory999"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/cats-cats-cats/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目次</h3><ul class="menu-list"><li><a class="level is-mobile" href="#TL-DR"><span class="level-left"><span class="level-item">1</span><span class="level-item">TL;DR</span></span></a></li><li><a class="level is-mobile" href="#まずはコードを御覧ください"><span class="level-left"><span class="level-item">2</span><span class="level-item">まずはコードを御覧ください</span></span></a></li><li><a class="level is-mobile" href="#コードの解説"><span class="level-left"><span class="level-item">3</span><span class="level-item">コードの解説</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#定義"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">定義</span></span></a></li><li><a class="level is-mobile" href="#if式"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">if式</span></span></a></li><li><a class="level is-mobile" href="#for式"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">for式</span></span></a></li><li><a class="level is-mobile" href="#match式"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">match式</span></span></a></li><li><a class="level is-mobile" href="#ラムダ式"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">ラムダ式</span></span></a></li></ul></li><li><a class="level is-mobile" href="#エンドマーカー"><span class="level-left"><span class="level-item">4</span><span class="level-item">エンドマーカー</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#インデントマーカー"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">インデントマーカー:</span></span></a></li></ul></li><li><a class="level is-mobile" href="#設定と書換え"><span class="level-left"><span class="level-item">5</span><span class="level-item">設定と書換え</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#main関数"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">@main関数</span></span></a></li><li><a class="level is-mobile" href="#今すぐ試してみたい"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">今すぐ試してみたい!</span></span></a></li></ul></li><li><a class="level is-mobile" href="#インデントベース構文の状況"><span class="level-left"><span class="level-item">6</span><span class="level-item">インデントベース構文の状況</span></span></a></li><li><a class="level is-mobile" href="#最後に"><span class="level-left"><span class="level-item">7</span><span class="level-item">最後に</span></span></a></li><li><a class="level is-mobile" href="#参考文献"><span class="level-left"><span class="level-item">8</span><span class="level-item">参考文献</span></span></a></li><li><a class="level is-mobile" href="#更新内容"><span class="level-left"><span class="level-item">9</span><span class="level-item">更新内容</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#2019年9月28日の更新内容"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">2019年9月28日の更新内容</span></span></a></li><li><a class="level is-mobile" href="#2019年11月16日の更新内容"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">2019年11月16日の更新内容</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/cats-cats-cats/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/cats-cats-cats/"><img src="/cats-cats-cats/gallery/profile/cats-cats-cats-logo.png" alt="cats cats cats" height="28"></a><p class="is-size-7"><span>&copy; 2021 hinastory</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ja");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/cats-cats-cats/js/column.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><a id="back-to-top" title="トップに戻る" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/cats-cats-cats/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "このウェブサイトはあなたの経験を改善するためにCookieを使用しています。",
          dismiss: "了解しました",
          allow: "Cookiesを許可する",
          deny: "拒否する",
          link: "もっと詳しく知る",
          policy: "Cookieポリシー",
          href: "https://hinastory.github.io/cats-cats-cats/about/#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E8%A7%A3%E6%9E%90%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="/cats-cats-cats/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="何かを入力してください..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/cats-cats-cats/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/cats-cats-cats/content.json"}, {"hint":"何かを入力してください...","untitled":"(無題)","posts":"投稿","pages":"ページ","categories":"カテゴリ","tags":"タグ"});
        });</script></body></html>