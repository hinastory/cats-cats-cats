<!doctype html>
<html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Rustに影響を与えた言語たち - cats cats cats</title><link rel="manifest" href="/cats-cats-cats/manifest.json"><meta name="application-name" content="cats cats cats"><meta name="msapplication-TileImage" content="/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="cats cats cats"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Rustを使っていると時々「あれ？この機能、他の言語に似てない？」と思うことがあります。最初に思ったのはトレイトで、これはHaskellの型クラスやScalaのImplicitsを使った型クラスパターンと同等な機能と理解しました。クロージャのシンタックスはRubyのブロック記法に似ているなと感じました。そんな「似ている」を少しだけ深堀りしてみたいと思い、Rustに影響を与えた言語を調べて見ました。"><meta property="og:type" content="article"><meta property="og:title" content="Rustに影響を与えた言語たち"><meta property="og:url" content="https://hinastory.github.io/cats-cats-cats/2020/06/13/rust-influences/"><meta property="og:site_name" content="cats cats cats"><meta property="og:description" content="Rustを使っていると時々「あれ？この機能、他の言語に似てない？」と思うことがあります。最初に思ったのはトレイトで、これはHaskellの型クラスやScalaのImplicitsを使った型クラスパターンと同等な機能と理解しました。クロージャのシンタックスはRubyのブロック記法に似ているなと感じました。そんな「似ている」を少しだけ深堀りしてみたいと思い、Rustに影響を与えた言語を調べて見ました。"><meta property="og:locale" content="ja_JP"><meta property="og:image" content="https://hinastory.github.io/cats-cats-cats/gallery/daily/others/rust-influences.png"><meta property="article:published_time" content="2020-06-12T22:28:45.000Z"><meta property="article:modified_time" content="2021-02-13T01:28:12.936Z"><meta property="article:author" content="hinastory"><meta property="article:tag" content="Rust"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/cats-cats-cats/gallery/daily/others/rust-influences.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hinastory.github.io/cats-cats-cats/2020/06/13/rust-influences/"},"headline":"cats cats cats","image":["https://hinastory.github.io/cats-cats-cats/gallery/daily/others/rust-influences.png"],"datePublished":"2020-06-12T22:28:45.000Z","dateModified":"2021-02-13T01:28:12.936Z","author":{"@type":"Person","name":"hinastory"},"description":"Rustを使っていると時々「あれ？この機能、他の言語に似てない？」と思うことがあります。最初に思ったのはトレイトで、これはHaskellの型クラスやScalaのImplicitsを使った型クラスパターンと同等な機能と理解しました。クロージャのシンタックスはRubyのブロック記法に似ているなと感じました。そんな「似ている」を少しだけ深堀りしてみたいと思い、Rustに影響を与えた言語を調べて見ました。"}</script><link rel="canonical" href="https://hinastory.github.io/cats-cats-cats/2020/06/13/rust-influences/"><link rel="alternate" href="/cats-cats-cats/cats-cats-cats/atom.xml" title="cats cats cats" type="application/atom+xml"><link rel="icon" href="/cats-cats-cats/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/vs2015.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/cats-cats-cats/css/default.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><!--!--><!--!--><script src="https://www.googletagmanager.com/gtag/js?id=UA-132406459-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-132406459-1');</script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><meta name="generator" content="Hexo 5.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/cats-cats-cats/"><img src="/cats-cats-cats/gallery/profile/cats-cats-cats-logo.png" alt="cats cats cats" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/cats-cats-cats/"><i class="fa fa-home mr-1"></i> Home</a><a class="navbar-item" href="/cats-cats-cats/archives"><i class="fas fa-archive fa-fw mr-1"></i> Archives</a><a class="navbar-item" href="/cats-cats-cats/categories"><i class="fas fa-cat fa-fw mr-1"></i> Categories</a><a class="navbar-item" href="/cats-cats-cats/tags"><i class="fas fa-tags fa-fw mr-1"></i> Tags</a><a class="navbar-item" href="/cats-cats-cats/about"><i class="undefined mr-1"></i> About</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目次" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="検索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-3 is-size-4-mobile">Rustに影響を与えた言語たち</h1><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><span class="level-item"><i class="mr-1 fas fa-calendar-alt"></i><span>2020-06-13</span></span><span class="level-item"><i class="mr-1 fas fa-cat"></i><a class="link-muted" href="/cats-cats-cats/categories/Tech/">Tech</a><span> / </span><a class="link-muted" href="/cats-cats-cats/categories/Tech/Language/">Language</a></span><span class="level-item"><i class="fas fa-tags"></i><span><a class="link-muted ml-1" rel="tag" href="/cats-cats-cats/tags/Rust/">Rust</a></span></span></div></div><div class="card-image"><span class="image is-7by3"><img class="cover-image" src="/cats-cats-cats/gallery/daily/others/rust-influences.png"></span></div><div class="content"><p>Rustを使っていると時々<strong>「あれ？この機能、他の言語に似てない？」</strong>と思うことがあります。最初に思ったのはトレイトで、これはHaskellの型クラスやScalaのImplicitsを使った型クラスパターンと同等な機能と理解しました。クロージャのシンタックスはRubyのブロック記法に似ているなと感じました。そんな<strong>「似ている」</strong>を少しだけ深堀りしてみたいと思い、Rustに影響を与えた言語を調べて見ました。</p>
<a id="more"></a>
<h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><ul>
<li>Rustに影響を与えた言語に関してはすでにまとまったページがありました<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-lang.org/reference/influences.html">Influences - The Rust Reference</a></li>
<li><a target="_blank" rel="noopener" href="https://learning-rust.github.io/docs/a1.why_rust.html#Influences">Why Rust? - #Influences | Learning Rust</a></li>
</ul>
</li>
<li>この記事は上記のページをベースに以下のようにまとめ直して紹介しています<ul>
<li>影響を受けた言語の特徴を表形式でまとめる</li>
<li>影響を受けた機能の簡単な紹介</li>
<li>影響の可視化（マインドマップ風）</li>
</ul>
</li>
</ul>
<h2 id="Rustが影響を受けた言語"><a href="#Rustが影響を受けた言語" class="headerlink" title="Rustが影響を受けた言語"></a>Rustが影響を受けた言語</h2><p>「<a target="_blank" rel="noopener" href="https://doc.rust-lang.org/reference/influences.html">Influences</a>」に記載されている言語<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>を年代順に並べて、言語の特徴をマトリックスにしてみました。特徴の選択はGCを除いてRustが力を入れているパラダイムを選択しています。また比較のためにRust自身も加えてあります。</p>
<table>
<thead>
<tr>
<th></th>
<th>登場年代</th>
<th>FP</th>
<th>OOP</th>
<th>並行計算</th>
<th>静的型付け</th>
<th>パラメータ多相</th>
<th>アドホック多相</th>
<th>GC</th>
</tr>
</thead>
<tbody><tr>
<td>C</td>
<td>1972</td>
<td></td>
<td></td>
<td></td>
<td>o</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Scheme</td>
<td>1975</td>
<td>o</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>C++</td>
<td>1983</td>
<td></td>
<td>o</td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Newsqueak</td>
<td>1984</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>Erlang</td>
<td>1986</td>
<td>o</td>
<td></td>
<td>o</td>
<td></td>
<td></td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>SML</td>
<td>1990</td>
<td>o</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>Haskell</td>
<td>1990</td>
<td>o</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
</tr>
<tr>
<td>Alef</td>
<td>1992</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>Limbo</td>
<td>1995</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>Ruby</td>
<td>1995</td>
<td>△</td>
<td>o</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>OCaml</td>
<td>1996</td>
<td>o</td>
<td>o</td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>ML Kit</td>
<td>1997<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></td>
<td>o</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td>△<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></td>
</tr>
<tr>
<td>C#</td>
<td>2000</td>
<td>△</td>
<td>o</td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>Cyclone</td>
<td>2006</td>
<td>o</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
<td></td>
<td>△<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></td>
</tr>
<tr>
<td><strong>Rust</strong></td>
<td>2010</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td></td>
</tr>
<tr>
<td>Swift</td>
<td>2014</td>
<td>△</td>
<td>o</td>
<td></td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></td>
</tr>
</tbody></table>
<p>各カラムの意味は次のとおりです。言語の特徴は主にWikipediaを参考にしていますが、正確な分類は困難なため多少の独断と偏見が含まれていることをご了承ください。</p>
<ul>
<li>登場年代<ul>
<li>プログラミング言語が登場した年代です。前後3年の誤差は見逃してください</li>
</ul>
</li>
<li>FP(関数型プログラミング)<ul>
<li>言語がFPを強くサポートしているかを示しています</li>
<li>程々にサポートしている場合は△を示しています</li>
</ul>
</li>
<li>OOP（オブジェクト指向プログラミング）<ul>
<li>言語がOOPを強くサポートしているかを示しています</li>
</ul>
</li>
<li>並行計算<ul>
<li>アクターや CSP/π計算モデルの特徴を言語が強くサポートしているかを示しています</li>
<li>外部ライブラリを使えばできるよ！みたいなものは除外します</li>
</ul>
</li>
<li>静的型付け<ul>
<li>言語の最も主要な処理系が静的型付けをサポートしているかを示しています</li>
</ul>
</li>
<li>パラメータ多相<ul>
<li>言語がパラメータ多相をサポートしているかを示しています</li>
<li>ジェネリクス(Java)、テンプレート(C++)、let多相(ML系言語)等と呼ばれるものが含まれています</li>
</ul>
</li>
<li>アドホック多相<ul>
<li>言語がアドホック多相をサポートしているかを示しています</li>
<li>型クラス(Haskell)、トレイト(Rust)、プロトコル(Swift)等と呼ばれるものが含まれています</li>
<li>単純な多重定義（オーバーロード）は含まれていません</li>
</ul>
</li>
<li>GC(ガベージコレクション)<ul>
<li>言語の最も主要な処理系がガベージコレクションをサポートしているかを示しています</li>
</ul>
</li>
</ul>
<h2 id="Rustが影響を受けた機能"><a href="#Rustが影響を受けた機能" class="headerlink" title="Rustが影響を受けた機能"></a>Rustが影響を受けた機能</h2><p>ここからは影響を受けた機能をそれぞれ見ていきたいと思います。</p>
<h3 id="代数的データ型-algebraic-data-types"><a href="#代数的データ型-algebraic-data-types" class="headerlink" title="代数的データ型(algebraic data types)"></a>代数的データ型(algebraic data types)</h3><p>代数的データ型は関数型プログラミングをサポートする言語で多く利用されています。直積型の総和です。RustではEnumを用いることで代数的データ型を実現可能です。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">IpAddr</span></span> {<br>    V4(<span class="hljs-built_in">u8</span>, <span class="hljs-built_in">u8</span>, <span class="hljs-built_in">u8</span>, <span class="hljs-built_in">u8</span>),<br>    V6(<span class="hljs-built_in">String</span>),<br>}<br></code></pre></td></tr></tbody></table></figure>

<p>上記はIPアドレス型を表現していますが、V4型はu8型の直積になっており、V4型とV6型の総和がIpAddr型になっています。</p>
<ul>
<li>影響を受けた言語<ul>
<li>SML, OCaml</li>
</ul>
</li>
</ul>
<h3 id="パターンマッチ-pattern-matching"><a href="#パターンマッチ-pattern-matching" class="headerlink" title="パターンマッチ(pattern matching)"></a>パターンマッチ(pattern matching)</h3><p>パターンマッチはざっくり言うと、<code>if</code>や<code>switch</code>等の一般的な分岐構造の強化版です。Rustでは<code>match</code>でパターンマッチが利用可能です。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> x = <span class="hljs-literal">Some</span>(<span class="hljs-number">2</span>);<br><span class="hljs-keyword">match</span> x {<br>    <span class="hljs-literal">Some</span>(<span class="hljs-number">10</span>) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"10"</span>), <span class="hljs-comment">// `Option`型を解体してマッチングしている</span><br>    <span class="hljs-literal">Some</span>(y) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"x = {:?}"</span>, y),<br>    _ =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"error!"</span>),<br>}<br></code></pre></td></tr></tbody></table></figure>

<p>パターンマッチは上記のコードのようにデータ構造を分解してマッチングできるので、代数的データ型とも相性がよいです。</p>
<p>パターンマッチに関しては過去に「<a href="https://hinastory.github.io/cats-cats-cats/2019/04/30/understanding-pattern-matching/">全プログラマに捧ぐ！図解「パターンマッチ」</a>」という記事も書いたのでよろしければそちらも参考にしてださい。</p>
<ul>
<li>Rust本<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/book/second-edition/ch18-00-patterns.html">パターンマッチング</a></li>
</ul>
</li>
<li>リファレンス<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-lang.org/reference/patterns.html">Patterns - The Rust Reference</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>SML, OCaml</li>
</ul>
</li>
</ul>
<h3 id="型推論-type-inference"><a href="#型推論-type-inference" class="headerlink" title="型推論(type inference)"></a>型推論(type inference)</h3><p>静的型付けを持つ言語ではJavaやC#に採用されたこともあり、型推論が徐々に浸透してきています。Rustの型推論は<strong>強力なHindley-Milner型推論をベース</strong>としており、後方の式や文から手前の型が推論されることもあります。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> x = HashMap::new(); <span class="hljs-comment">// HashMapのキーと値の型は後方の式や文から推論される。便利！</span><br><br>x.insert(<span class="hljs-built_in">String</span>::from(<span class="hljs-string">"Key"</span>), <span class="hljs-number">10</span>);<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:?}"</span>, x);<br></code></pre></td></tr></tbody></table></figure>

<p>上記の例ではHashMapのキーと値の型が後続のinsert関数の引数から推論されています。JavaやC#の型推論ではこれはできません。それはこれらの言語に導入された型推論はローカル変数の型推論であり、Rustの型推論とは異なっているからです。</p>
<ul>
<li>影響を受けた言語<ul>
<li>SML, OCaml</li>
</ul>
</li>
</ul>
<h3 id="セミコロンの文区切り-semicolon-statement-separation"><a href="#セミコロンの文区切り-semicolon-statement-separation" class="headerlink" title="セミコロンの文区切り(semicolon statement separation)"></a>セミコロンの文区切り(semicolon statement separation)</h3><p>Rustの関数は主に「文」で構成され、一番最後は「文」か「式」で終わります。Rustの文と文の区切りはセミコロン「;」です。従って最後にセミコロンが付くか否かで文か式かを区別できます。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">test1</span></span>() -&gt; <span class="hljs-built_in">i32</span> {<br>    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> x = <span class="hljs-number">2</span>; <span class="hljs-comment">// 文</span><br>    x =  x * <span class="hljs-number">3</span> ;   <span class="hljs-comment">// 文</span><br>    x + <span class="hljs-number">5</span>          <span class="hljs-comment">// 式（戻り値は11）</span><br>}<br><br><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">test2</span></span>() -&gt; () {<br>    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> x = <span class="hljs-number">2</span>; <span class="hljs-comment">// 文</span><br>    x =  x * <span class="hljs-number">3</span> ;   <span class="hljs-comment">// 文</span><br>    x + <span class="hljs-number">5</span>;         <span class="hljs-comment">// 文（戻り値はユニット`()`）</span><br>}<br></code></pre></td></tr></tbody></table></figure>

<p>Rustの面白いところは、全ての「式」の後にセミコロン「;」を付けるだけで「文」に変換できてしまうところです。そして文になると関数の最後に置かれた場合の戻り値はユニット<code>()</code>になります。上記のコードで説明すると一番最後の行にセミコロン(<code>;</code>)があるかないかで戻り値が変わります<sup id="fnref:6"><a href="#fn:6" rel="footnote">6</a></sup>。つまりRustにおいては「文」も「値」を返す「式」の一種と考えることができます。また、<code>if</code>や<code>match</code>や<code>while</code>のような制御構造も値を返すのでRustは<strong>式指向の言語</strong>とも言われています。</p>
<p>影響を受けた言語であるOCamlでも同様にプログラムの構成要素の基本に「式」を置いて、セミコロンで区切るやり方になっています。</p>
<ul>
<li>参考文献<ul>
<li><a target="_blank" rel="noopener" href="https://ocaml.org/learn/tutorials/structure_of_ocaml_programs.ja.html#">OCamlプログラムの構造 – OCaml</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>SML, OCaml</li>
</ul>
</li>
</ul>
<h3 id="参照-references"><a href="#参照-references" class="headerlink" title="参照(references)"></a>参照(references)</h3><p>参照は変数に<code>&amp;</code>をつけることで生成でき、変数に「別名」を作ることができます。C言語のポインタに似た機能ですが、大きな違いは<strong>nullポインタが存在しない</strong>ことです。つまり必ず参照先があることが前提となります。参照先は参照外し演算子「<code>*</code>」を用いることで参照できます。可変(<code>mut</code>付き)の変数の場合は参照先の書き換えも可能です。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> x = <span class="hljs-string">"hoge"</span>.to_string();<br><span class="hljs-keyword">let</span> y = &amp;<span class="hljs-keyword">mut</span> x;<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">"y = {}"</span>, *y); <span class="hljs-comment">// hoge</span><br>*y = <span class="hljs-string">"mohe"</span>.to_string(); <span class="hljs-comment">// `*y`を書き換えることでxも書き換わる</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">"x = {}"</span>, x); <span class="hljs-comment">// mohe</span><br></code></pre></td></tr></tbody></table></figure>

<p>この参照はC++の特徴的な機能と考えられており紛れもなくC++の影響と言えそうですが、大きな違いもあります。それはRustの「所有権とライフタイム」との紐づきであり、C++と異なりRustの参照が<strong>ダングリング参照になることはありません</strong>。</p>
<ul>
<li>影響を受けた言語<ul>
<li>C++</li>
</ul>
</li>
</ul>
<h3 id="RAII-Resource-Acquisition-Is-Initialization"><a href="#RAII-Resource-Acquisition-Is-Initialization" class="headerlink" title="RAII(Resource Acquisition Is Initialization)"></a>RAII(Resource Acquisition Is Initialization)</h3><p>RAIIは直訳では「リソースの確保は(変数の)初期化である」になります。しかしこの概念をより適切に理解するためには<strong>「リソースの解放は変数の破棄である」</strong>と捉えたほうが真に迫っていると思われます。一般的なリソースの代表例がメモリであり、この場合は変数が初期化されるとメモリが確保され、変数が破棄されるとメモリが解放されます。このRAIIという表現はRustでは表立って出て来ませんが、<strong>「所有権」</strong>という考え方の中に取り入れられています。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs rust">{<br>    <span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>; <span class="hljs-comment">// ここで変数xが初期化され、メモリも確保される。</span><br>    {<br>        <span class="hljs-keyword">let</span> y = <span class="hljs-string">"hoge"</span>.to_string(); <span class="hljs-comment">// ここで変数yが初期化され、メモリも確保される。</span><br><br>        <span class="hljs-comment">// いろいろ処理する</span><br><br>    } <span class="hljs-comment">// ここで変数yはスコープを抜けて破棄され、メモリも解放される</span><br><br>    <span class="hljs-comment">// いろいろ処理する</span><br><br>} <span class="hljs-comment">// ここで変数xはスコープを抜けて破棄され、メモリも解放される</span><br></code></pre></td></tr></tbody></table></figure>

<p>上記のコードの例では変数の有効範囲は変数が初期化されてから、最も内側のスコープ（中括弧<code>{}</code>で囲まれた範囲）の最後までです。JavaやRubyのようなガーベージコレクション(GC)を持つ言語では変数が破棄された後も、ガベージコレクタがメモリを回収するまでメモリが解放されません<sup id="fnref:7"><a href="#fn:7" rel="footnote">7</a></sup>。また上記のコードの例ではメモリをリソースとしましたが、メモリ以外でもファイルのオープン、クローズ等の「利用」と「返却」に結びつけても構いません。実際にRustの標準ライブラリの中にはRAIIを利用したものが多くあります。</p>
<ul>
<li>Rust By Example<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/rust-by-example-ja/scope/raii.html">RAII</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>C++</li>
</ul>
</li>
</ul>
<h3 id="スマートポインタ-smart-pointers"><a href="#スマートポインタ-smart-pointers" class="headerlink" title="スマートポインタ(smart pointers)"></a>スマートポインタ(smart pointers)</h3><p>スマートポインタは、ポインタの一種で単にメモリアドレスを指し示すだけではなく<strong>付加的な機能</strong>を備えたもののことを言います。Rustにおけるスマートポインタとは標準ライブラリの型で言えばStringやVec<t>のように、ヒープのメモリ確保と解放を<strong>「スマート」</strong>に行うものが第一に挙げられます。Rustではスマートポインタを見分けるポイントとして、<strong>「Derefトレイト」</strong>や<strong>「Dropトレイト」</strong>を実装しているかが挙げられます。</t></p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust">{<br>    <span class="hljs-keyword">let</span> a = <span class="hljs-built_in">String</span>::from(<span class="hljs-string">"hoge"</span>); <span class="hljs-comment">// 文字列"hoge"はヒープに確保される</span><br>    <span class="hljs-keyword">let</span> b = <span class="hljs-built_in">vec!</span>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]; <span class="hljs-comment">// ベクタはヒープに確保される</span><br>    <span class="hljs-keyword">let</span> c = <span class="hljs-built_in">Box</span>::new(<span class="hljs-number">5</span>); <span class="hljs-comment">// i32型の整数はヒープに確保される</span><br>} <span class="hljs-comment">// 変数a, b, cが破棄され、同時にヒープに確保されたメモリも解放される</span><br></code></pre></td></tr></tbody></table></figure>

<ul>
<li>Rust本<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/book/second-edition/ch15-00-smart-pointers.html">スマートポインタ</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>C++</li>
</ul>
</li>
</ul>
<h3 id="ムーブセマンティクス-move-semantics"><a href="#ムーブセマンティクス-move-semantics" class="headerlink" title="ムーブセマンティクス(move semantics)"></a>ムーブセマンティクス(move semantics)</h3><p>ムーブセマンティクスとはざっくり言うと、値を変数にアサインしたり、関数を引数に値渡ししたりするときに<strong>所有権の移動が行われること</strong>を言います。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> s1 = <span class="hljs-string">"Rust Life"</span>.to_string();<br><span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s1); <span class="hljs-comment">// OK</span><br><br><span class="hljs-keyword">let</span> s2 = s1; <span class="hljs-comment">// ムーブセマンティクス：所有権が`s1`から`s2`に移動している</span><br><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s2); <span class="hljs-comment">// OK</span><br><span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, s1); <span class="hljs-comment">// コンパイルエラー： 所有権は`s2`に移動しているので`s1`にアクセス不可</span><br></code></pre></td></tr></tbody></table></figure>

<p>上記のコードでは<code>let s2 = s1;</code>がムーブセマンティクスになっています。Rustでは値の所有権は常にひとつに制限されているのでこのような動作になります。</p>
<ul>
<li>Rust本<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/book/second-edition/ch04-01-what-is-ownership.html">所有権とは？</a></li>
</ul>
</li>
<li>Rust By Example<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/rust-by-example-ja/scope/move.html">所有権とムーブ</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>C++</li>
</ul>
</li>
</ul>
<h3 id="単相化-monomorphization"><a href="#単相化-monomorphization" class="headerlink" title="単相化(monomorphization)"></a>単相化(monomorphization)</h3><p>Rustのジェネリクスはコンパイル時にプログラム内で利用される具体的な型に展開されますが、これは「単相化」と呼ばれています。「単相化」によってコンパイル時に呼び出される関数が決定されるので<strong>静的ディスパッチ</strong>になり、抽象化に伴う実行時の呼び出しオーバーヘッドがありません。</p>
<p>影響を受けたC++では、単相化はテンプレートのインスタンス化、特殊化として知られています。</p>
<ul>
<li>影響を受けた言語<ul>
<li>C++</li>
</ul>
</li>
</ul>
<h3 id="メモリモデル-memory-model"><a href="#メモリモデル-memory-model" class="headerlink" title="メモリモデル(memory model)"></a>メモリモデル(memory model)</h3><p>メモリモデルが意味するものはいくつか挙げられますが、この文脈おけるメモリモデルは<strong>マルチスレッド環境における共有メモリアクセスの一貫性</strong>に関するものになります。一般的にマルチスレッドから安全に操作できるものとして<strong>「アトミックな操作」</strong>がありますが、これらを実現するためにメモリモデルが必要になってきます。詳細が知りたい方は以下のRustのドキュメントを参照してください。</p>
<ul>
<li>標準ライブラリドキュメント<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/sync/atomic/index.html">std::sync::atomic</a></li>
<li><a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/sync/atomic/enum.Ordering.html">std::sync::atomic::Ordering</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>C++</li>
</ul>
</li>
</ul>
<h3 id="リージョンベースのメモリ管理-region-based-memory-management"><a href="#リージョンベースのメモリ管理-region-based-memory-management" class="headerlink" title="リージョンベースのメモリ管理(region based memory management)"></a>リージョンベースのメモリ管理(region based memory management)</h3><p>リージョンベースのメモリ管理では、メモリを「リージョン」と呼ばれる領域に分割して、さらに型システムに関連付けてメモリ管理を行います。Rustにおいては参照のライフタイム管理に大きく関わっているものと思われます。</p>
<ul>
<li>参考文献<ul>
<li><a target="_blank" rel="noopener" href="https://www.cs.umd.edu/projects/cyclone/papers/cyclone-regions.pdf">Region-Based Memory Management in Cyclone</a></li>
<li><a target="_blank" rel="noopener" href="https://cyclone.thelanguage.org/wiki/Memory%20Management%20Via%20Regions/">Cyclone: Memory Management Via Regions</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>ML Kit, Cyclone</li>
</ul>
</li>
</ul>
<h3 id="型クラス-typeclasses-、型族-type-families"><a href="#型クラス-typeclasses-、型族-type-families" class="headerlink" title="型クラス(typeclasses)、型族(type families)"></a>型クラス(typeclasses)、型族(type families)</h3><p>「型クラス」はHaskell由来の言葉でRustで対応する機能は<strong>トレイト</strong>になり、<strong>型に共通する振る舞いを定義する</strong>ときに用いられます。Javaのインタフェースに近いものがありますが、<strong>型の定義時ではなく型の定義後に後付でトレイトを実装できる</strong>ことが特徴です。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Greeting</span></span> { <span class="hljs-comment">// トレイトの定義</span><br>    <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">greet</span></span>(&amp;<span class="hljs-keyword">self</span>) -&gt; <span class="hljs-built_in">String</span>;<br>}<br><br><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">print_greet</span></span>&lt;T: Greeting&gt;(person: T) { <span class="hljs-comment">// トレイト境界を用いた関数</span><br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}!"</span>, person.greet());<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Japanese</span></span> { name: <span class="hljs-built_in">String</span>, }        <span class="hljs-comment">// `struct`を用いた型の定義</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">American</span></span> { name: <span class="hljs-built_in">String</span>, age: <span class="hljs-built_in">u32</span>,}<br><br><span class="hljs-keyword">impl</span> Greeting <span class="hljs-keyword">for</span> Japanese { <span class="hljs-comment">// トレイトの実装</span><br>    <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">greet</span></span>(&amp;<span class="hljs-keyword">self</span>) -&gt; <span class="hljs-built_in">String</span> { <span class="hljs-string">"こんにちわ"</span>.to_string() }<br>}<br><br><span class="hljs-keyword">impl</span> Greeting <span class="hljs-keyword">for</span> American {<br>    <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">greet</span></span>(&amp;<span class="hljs-keyword">self</span>) -&gt; <span class="hljs-built_in">String</span> { <span class="hljs-string">"Hello"</span>.to_string() }<br>}<br><br><span class="hljs-keyword">impl</span> Greeting <span class="hljs-keyword">for</span> <span class="hljs-built_in">i32</span> { <span class="hljs-comment">// 組み込み型にもトレイトを実装できる!</span><br>    <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">greet</span></span>(&amp;<span class="hljs-keyword">self</span>) -&gt; <span class="hljs-built_in">String</span> { <span class="hljs-keyword">self</span>.to_string() }<br>}<br><br><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {<br>    <span class="hljs-keyword">let</span> person_a = Japanese {name: <span class="hljs-string">"Taro"</span>.to_string(),};<br>    <span class="hljs-keyword">let</span> person_b = American {name: <span class="hljs-string">"Alex"</span>.to_string(), age: <span class="hljs-number">20</span>,};<br><br>    <span class="hljs-comment">// print_greet関数はGreetingを実装した異なる型に対して呼び出し可能(アドホック多相)</span><br>    print_greet(person_a);<br>    print_greet(person_b);<br>    print_greet(<span class="hljs-number">123</span>);<br>}<br></code></pre></td></tr></tbody></table></figure>

<p>上記のコードで説明すると、<code>print_greet()</code>関数はトレイト<code>Greeting</code>を実装していれば呼べる関数になっています。そしてすでに<code>Japanese</code>という型が定義されていた場合、<code>Greeting</code>トレイトを実装(<code>impl Greeting for Japanese</code>)すれば、<code>print_greet()</code>関数で呼び出すことができます。面白いのは<code>i32</code>のような組み込み型にも後付でトレイトが実装できることです。この<code>print_greet()</code>関数のように、後付けで渡せる型を増やせる関数の性質を<strong>アドホック多相性</strong>と言ったりします。</p>
<p>「型族」は、ざっくり説明すると型を受け取って型を返す型関数を実現する機能です。Rustでは<strong>「関連型」</strong>と繋がりがあります。標準ライブラリの<code>Add</code>から定義と利用例を引用します。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">pub</span> <span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Add</span></span>&lt;Rhs = <span class="hljs-keyword">Self</span>&gt; {<br>    <span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">Output</span></span>; <span class="hljs-comment">// 関連型</span><br>    <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">add</span></span>(<span class="hljs-keyword">self</span>, rhs: Rhs) -&gt; Self::Output;<br>}<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span></span> {<br>    x: <span class="hljs-built_in">i32</span>,<br>    y: <span class="hljs-built_in">i32</span>,<br>}<br><br><span class="hljs-keyword">impl</span> Add <span class="hljs-keyword">for</span> Point {<br>    <span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">Output</span></span> = <span class="hljs-keyword">Self</span>; <span class="hljs-comment">// 関連型</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">add</span></span>(<span class="hljs-keyword">self</span>, other: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span> {<br>        <span class="hljs-keyword">Self</span> {<br>            x: <span class="hljs-keyword">self</span>.x + other.x,<br>            y: <span class="hljs-keyword">self</span>.y + other.y,<br>        }<br>    }<br>}<br><br><span class="hljs-built_in">assert_eq!</span>(Point { x: <span class="hljs-number">1</span>, y: <span class="hljs-number">0</span> } + Point { x: <span class="hljs-number">2</span>, y: <span class="hljs-number">3</span> },<br>           Point { x: <span class="hljs-number">3</span>, y: <span class="hljs-number">3</span> });<br></code></pre></td></tr></tbody></table></figure>

<p>関連型は上記のコードのように、トレイトの中で<code>type</code>を使って宣言されます。ジェネリクスと似たようなこともできますがきちんと使いどころもあります。以下の参考文献に細かなシチュエーションが載っていたので興味がある方はご確認ください。</p>
<ul>
<li>関連型の参考文献<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/rust-by-example-ja/generics/assoc_items/the_problem.html">関連型が必要になる状況 - Rust By Example 日本語版</a></li>
<li><a target="_blank" rel="noopener" href="https://keens.github.io/blog/2016/11/22/rustnokanrenkatanotsukaidokoro/">Rustの関連型の使いどころ | κeenのHappy Hacκing Blog</a>
　</li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>Haskell</li>
</ul>
</li>
</ul>
<h3 id="チャネル-channels-並行性-concurrency"><a href="#チャネル-channels-並行性-concurrency" class="headerlink" title="チャネル(channels), 並行性(concurrency)"></a>チャネル(channels), 並行性(concurrency)</h3><p>チャネルは非同期コミュニケーションのためのプリミティブです。<strong>送信側と受信側がチャネルを通して非同期にデータの受け渡しをする</strong>ことができます。以下のコードは<a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/rust-by-example-ja/std_misc/channels.html">チャネル - Rust By Example 日本語版</a>からコード部分を引用したものです（コメントは独自のものに変更）。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">use</span> std::sync::mpsc::{Sender, Receiver};<br><span class="hljs-keyword">use</span> std::sync::mpsc;<br><span class="hljs-keyword">use</span> std::thread;<br><br><span class="hljs-keyword">static</span> NTHREADS: <span class="hljs-built_in">i32</span> = <span class="hljs-number">3</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {<br>    <span class="hljs-keyword">let</span> (tx, rx): (Sender&lt;<span class="hljs-built_in">i32</span>&gt;, Receiver&lt;<span class="hljs-built_in">i32</span>&gt;) = mpsc::channel(); <span class="hljs-comment">// チャネルの作成</span><br>    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> children = <span class="hljs-built_in">Vec</span>::new();<br><br>    <span class="hljs-keyword">for</span> id <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..NTHREADS {<br>        <span class="hljs-keyword">let</span> thread_tx = tx.clone();<br><br>        <span class="hljs-keyword">let</span> child = thread::spawn(<span class="hljs-keyword">move</span> || { <span class="hljs-comment">// スレッドの作成</span><br>            thread_tx.send(id).unwrap(); <span class="hljs-comment">// チャネルを通してデータの送信</span><br>            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"thread {} finished"</span>, id);<br>        });<br><br>        children.push(child);<br>    }<br><br>    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut</span> ids = <span class="hljs-built_in">Vec</span>::with_capacity(NTHREADS <span class="hljs-keyword">as</span> <span class="hljs-built_in">usize</span>);<br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..NTHREADS {<br>        ids.push(rx.recv()); <span class="hljs-comment">// 子スレッドから送信されたデータを受信</span><br>    }<br><br>    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> children {<br>        child.join().expect(<span class="hljs-string">"oops! the child thread panicked"</span>);<br>    }<br><br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{:?}"</span>, ids);<br>}<br></code></pre></td></tr></tbody></table></figure>

<p>上記のコードはチャネルを生成して子スレッドに渡して、子スレッドからチャネルを通してデータを送信して親スレッド受け取るコードになっています。</p>
<ul>
<li>影響を受けた言語<ul>
<li>Newsqueak, Alef, Limbo</li>
</ul>
</li>
</ul>
<h3 id="メッセージパッシング-message-passing-スレッド失敗-thread-failure"><a href="#メッセージパッシング-message-passing-スレッド失敗-thread-failure" class="headerlink" title="メッセージパッシング(message passing), スレッド失敗(thread failure)"></a>メッセージパッシング(message passing), スレッド失敗(thread failure)</h3><p>調べきれなかったので割愛します。</p>
<ul>
<li>影響を受けた言語<ul>
<li>Erlang</li>
</ul>
</li>
</ul>
<h3 id="オプショナルバインディング"><a href="#オプショナルバインディング" class="headerlink" title="オプショナルバインディング"></a>オプショナルバインディング</h3><p>オプショナルバインディングはSwiftの機能で、その名の通りOptionalの値が存在する場合に変数を束縛してコードブロックを実行します。Rustの対応する機能は<code>if let</code>ですが、<code>Option</code>に限らず様々なパターンマッチか利用可能です。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> num = <span class="hljs-literal">Some</span>(<span class="hljs-number">10</span>);<br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-literal">Some</span>(i) = num {<br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"num =  {}"</span>, i);<br>}<br></code></pre></td></tr></tbody></table></figure>

<ul>
<li>Rust本<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/book/second-edition/ch06-03-if-let.html">if letで簡潔な制御フロー</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>Swift</li>
</ul>
</li>
</ul>
<h3 id="衛生的マクロ-hygienic-macros"><a href="#衛生的マクロ-hygienic-macros" class="headerlink" title="衛生的マクロ(hygienic macros)"></a>衛生的マクロ(hygienic macros)</h3><p>衛生的マクロとはマクロ内で導入される変数名と、マクロ呼び出し側の変数名が衝突しないことが保証されているマクロです。以下は簡単なRustのマクロのサンプルコードです。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-built_in">macro_rules!</span> my_macro { <span class="hljs-comment">// マクロ</span><br>    ($x:expr) =&gt; {<br>        {<br>            <span class="hljs-keyword">let</span> a = <span class="hljs-number">2</span>;<br>            $x + a<br>        }<br>    };<br>}<br><br><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() {<br>    <span class="hljs-keyword">let</span> a = <span class="hljs-number">5</span>;<br>    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, my_macro!(a)); <span class="hljs-comment">// 7</span><br>}<br></code></pre></td></tr></tbody></table></figure>

<p>Rustのマクロは衛生的なため、<code>my_macro!</code>マクロに変数<code>a</code>が渡されても内部のletで導入された変数<code>a</code>とは別物とし扱われます。これがC言語のマクロやLispマクロでは衝突する可能性があるため、意図的に衝突しない変数を選ぶ必要がありました。</p>
<ul>
<li>影響を受けた言語<ul>
<li>Scheme</li>
</ul>
</li>
</ul>
<h3 id="属性-attributes"><a href="#属性-attributes" class="headerlink" title="属性(attributes)"></a>属性(attributes)</h3><p>属性は主に<strong>宣言に対して付加される追加情報（メタデータ）</strong>です。Rustでよく見かけるのは単体テストのマークとなる<code>#[test]</code>属性です。</p>
<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-meta">#[test]</span> <span class="hljs-comment">// 属性(テスト関数のマーキング)</span><br><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">test_hoge</span></span>() {<br>    <span class="hljs-comment">// test code</span><br>}<br><br><span class="hljs-meta">#[allow(dead_code)]</span> <span class="hljs-comment">// 属性(未使用関数の警告抑制)</span><br><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">foo</span></span>() {}<br><br><span class="hljs-meta">#[derive(Debug, Clone, Copy, Default, Eq, Hash, Ord, PartialOrd, PartialEq)]</span> <span class="hljs-comment">// 属性(トレイトの自動実装)</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Num</span></span>(<span class="hljs-built_in">i32</span>);<br></code></pre></td></tr></tbody></table></figure>

<ul>
<li>リファレンス<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-lang.org/reference/attributes.html#attributes">Attributes - The Rust Reference</a></li>
</ul>
</li>
<li>Rust By Example<ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-jp.rs/rust-by-example-ja/attribute.html">アトリビュート</a></li>
</ul>
</li>
<li>影響を受けた言語<ul>
<li>C#</li>
</ul>
</li>
</ul>
<h3 id="クロージャー記法（closure-syntax）"><a href="#クロージャー記法（closure-syntax）" class="headerlink" title="クロージャー記法（closure syntax）"></a>クロージャー記法（closure syntax）</h3><p>これはRubyのブロック記法とRustのクロージャ記法を見比べて貰えば似ていることがおわかり頂けると思います。</p>
<figure class="highlight ruby"><figcaption><span>ruby</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby">ia = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><br>ia.each {<span class="hljs-params">|e|</span> puts e } <span class="hljs-comment"># Rubyのブロック(`each`の引数)</span><br></code></pre></td></tr></tbody></table></figure>

<figure class="highlight rust"><figcaption><span>rust</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-keyword">let</span> ia = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><br>ia.iter().for_each(|e| <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, e)); <span class="hljs-comment">// Rustのクロージャ(`for_each`の引数)</span><br></code></pre></td></tr></tbody></table></figure>

<ul>
<li>影響を受けた言語<ul>
<li>Ruby</li>
</ul>
</li>
</ul>
<h2 id="影響の可視化"><a href="#影響の可視化" class="headerlink" title="影響の可視化"></a>影響の可視化</h2><p>Rustに影響を与えた言語を可視化してみました。言語は年代順に時計回りでざっくり並べています。色はFP,OOP,並行計算,その他でざっくり分類しています。</p>
<p>この図を見ると、様々なパラダイムの言語からバランス良く影響を受けている様子が見て取れます。</p>
<img src="/cats-cats-cats/gallery/daily/others/rust-influences.png" class="">

<h2 id="まとめ"><a href="#まとめ" class="headerlink" title="まとめ"></a>まとめ</h2><p>Rustに影響を与えた言語についてざっくり表に分類して、さらに可視化してみました。また、影響を与えた個々の機能に関しても大まかに紹介しました。元ネタになったRustリファレンスの<a target="_blank" rel="noopener" href="https://doc.rust-lang.org/reference/influences.html">Influences</a>の記載は以下のとおりです。</p>
<ul>
<li>SML, OCaml: algebraic data types, pattern matching, type inference, semicolon statement separation</li>
<li>C++: references, RAII, smart pointers, move semantics, monomorphization, memory model</li>
<li>ML Kit, Cyclone: region based memory management</li>
<li>Haskell (GHC): typeclasses, type families</li>
<li>Newsqueak, Alef, Limbo: channels, concurrency</li>
<li>Erlang: message passing, thread failure, <del>linked thread failure</del>, <del>lightweight concurrency</del></li>
<li>Swift: optional bindings</li>
<li>Scheme: hygienic macros</li>
<li>C#: attributes</li>
<li>Ruby: closure syntax, <del>block syntax</del></li>
<li>NIL, Hermes: <del>typestate</del><ul>
<li>削除された機能のみに紐づく言語なので本記事では扱わなかった</li>
</ul>
</li>
<li>Unicode Annex #31: identifier and pattern syntax<ul>
<li>言語ではないので本記事では扱わなかった</li>
</ul>
</li>
</ul>
<p>Rustは一見すると多くの先進的な機能が詰まっているように見えますが、その多くは<strong>研究成果や実績のある言語を下敷きにしている</strong>ことが分かります。Rustの特徴としてよく話題になる所有権システムや借用チェッカーでさえもC++,ML Kit,Cyclone等の言語から多くの影響を受けています。そして個々の影響を調べると、<strong>ML KitやCycloneで成し遂げられなかった完全なGCとの決別をRustで実現できた</strong>という流れも見えたのは面白かったです。</p>
<p>自分も調べてみるまで、ここまで多くの機能が他の言語由来だとは思っていませんでした。影響を受けた言語の年代やパラダイムもバラエティに富んでおり、Rustを調べている内に<strong>さながら言語の進化の歴史を学んでいる</strong>ような感覚に陥りました。そしてRustはそれぞれの言語の欠点をうまく乗り越えて、良い点をうまく統合していく過程を見せてくれたような気がします。</p>
<p>確かにこれだけの言語から影響を受ければ初学者にとって<strong>学習曲線が急峻</strong>だと言われるのも分かりますが、逆を考えると<strong>影響を受けた様々な言語の集大成を一つの言語で学べる非常に学びがいがあるお得な言語</strong>だと言えるのではないかと、これを書きながら思った次第です。</p>
<p>本記事がRustに興味がある方々の一助になれば幸いです。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a target="_blank" rel="noopener" href="https://doc.rust-lang.org/reference/influences.html">Influences - The Rust Reference</a></li>
<li><a target="_blank" rel="noopener" href="https://learning-rust.github.io/docs/a1.why_rust.html#Influences">Why Rust? - #Influences | Learning Rust</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/C%E8%A8%80%E8%AA%9E">C言語 - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Scheme">Scheme - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/C%2B%2B">C++ - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Newsqueak">Newsqueak - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Erlang">Erlang - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Standard_ML">Standard ML - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Haskell">Haskell - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Alef_(programming_language)">Alef (programming language) - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Limbo">Limbo - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Ruby">Ruby - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/OCaml">OCaml - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/C_Sharp">C Sharp - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cyclone_(programming_language)">Cyclone (programming language) - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Swift_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)">Swift (プログラミング言語) - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/Rust_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E)">Rust (プログラミング言語) - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.38.2530&amp;rep=rep1&amp;type=pdf">Programming with Regions in the ML Kit</a></li>
<li><a target="_blank" rel="noopener" href="https://qnighy.hatenablog.com/entry/2017/06/05/070000">Rustの型推論の概略 - 簡潔なQ</a></li>
<li><a target="_blank" rel="noopener" href="https://ja.wikipedia.org/wiki/%E3%83%A1%E3%83%A2%E3%83%AA%E3%83%A2%E3%83%87%E3%83%AB_(%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)">メモリモデル (プログラミング) - Wikipedia</a></li>
<li><a target="_blank" rel="noopener" href="https://qiita.com/qnighy/items/b3b728adf5e4a3f1a841">Rustの <code>Arc</code> を読む(4): アトミック変数とメモリ順序 - Qiita</a><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">Unicode Annexは言語ではないので除外しました。NIL, Hermesはすでに廃止された機能への影響だったので、これも除外しました。C言語は<a target="_blank" rel="noopener" href="https://learning-rust.github.io/docs/a1.why_rust.html#Influences">Why Rust? - #Influences | Learning Rust</a>に記載があったので追加しました。F#も入れるかどうか悩みましたが「Functional Programing」だけだと具体的に影響を与えた機能が分かりづらいので入れませんでした。</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;"><a target="_blank" rel="noopener" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.38.2530&amp;rep=rep1&amp;type=pdf">Programming with Regions in the ML Kit</a>の発表年を基準にしています。</span><a href="#fnref:2" rev="footnote"> ↩</a></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">3.</span><span style="display: inline-block; vertical-align: top;">ML Kitの実装にはリージョンベースのメモリ管理にGCを付けたものもあるので△にしています。(<a target="_blank" rel="noopener" href="http://mlton.org/Regions">参考文献</a>)</span><a href="#fnref:3" rev="footnote"> ↩</a></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">4.</span><span style="display: inline-block; vertical-align: top;">GCの利用はオプションなので△にしています。具体的にはヒープリージョンにガベージコレクションを利用できます。</span><a href="#fnref:4" rev="footnote"> ↩</a></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">5.</span><span style="display: inline-block; vertical-align: top;">SwiftではARC（Automatic Reference Counting / 自動参照カウント）が使われています。ARCをGCに分類するかは議論の余地がありますが、この記事ではARCの実行時オーバーヘッドの存在を考慮して「GC」として分類しています。</span><a href="#fnref:5" rev="footnote"> ↩</a></li><li id="fn:6"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">6.</span><span style="display: inline-block; vertical-align: top;">戻り値がユニット<code>()</code>との場合、関数のシグネチャから戻り値を省略できます。つまり<code>fn test2 -&gt; () {...}</code>は<code>fn test2() {...}</code>と同義です。</span><a href="#fnref:6" rev="footnote"> ↩</a></li><li id="fn:7"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">7.</span><span style="display: inline-block; vertical-align: top;">Javaでもプリミティブ型などはローカル変数として宣言された場合にはスタックに確保されておりRAIIの要件を満たしていますが、その他のオブジェクトはほとんどヒープに確保されてガーベージコレクションの対象になります。</span><a href="#fnref:7" rev="footnote"> ↩</a></li></ol></div></div></li>
</ul>
</div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_hatena"></a><a class="a2a_button_reddit"></a></div><script async src="https://static.addtoany.com/menu/page.js"></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/cats-cats-cats/2020/09/06/rubykaigi-takeout-2020/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">RubyKaigi Takeout 2020</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/cats-cats-cats/2020/04/01/refizz-starting-life-in-rust-world/"><span class="level-item">Re：FizzBuzzから始めるRust生活</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div><div class="popular-posts-box"><div class="popular-posts-box-title">関連する記事</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2020/12/31/2020-last/" title="2020年の技術的な振り返り" rel="bookmark"><img src="/cats-cats-cats/gallery/thumbnails/pose_furikaeru_man.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2020-12-31</div><a href="/cats-cats-cats/2020/12/31/2020-last/" title="2020年の技術的な振り返り" rel="bookmark">2020年の技術的な振り返り</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2020/12/06/7_reasons_rust_lambda/" title="RustとLambdaの相性が良い7つの理由 〜RustでLambdaをやっていく〜" rel="bookmark"><img src="/cats-cats-cats/gallery/thumbnails/rust_heart_lambda.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2020-12-06</div><a href="/cats-cats-cats/2020/12/06/7_reasons_rust_lambda/" title="RustとLambdaの相性が良い7つの理由 〜RustでLambdaをやっていく〜" rel="bookmark">RustとLambdaの相性が良い7つの理由 〜RustでLambdaをやっていく〜</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><a href="/cats-cats-cats/2020/04/01/refizz-starting-life-in-rust-world/" title="Re：FizzBuzzから始めるRust生活" rel="bookmark"><img src="/cats-cats-cats/gallery/thumbnails/rust.png" /></a></div><div class="popular-posts-title"><h3><div class="popular-posts-date">2020-04-01</div><a href="/cats-cats-cats/2020/04/01/refizz-starting-life-in-rust-world/" title="Re：FizzBuzzから始めるRust生活" rel="bookmark">Re：FizzBuzzから始めるRust生活</a></h3></div></li></ul></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最近の記事</h3><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/07/24/it-engineer-diet/"><img src="/cats-cats-cats/gallery/thumbnails/diet_after_man.png" alt="コロナ禍のITエンジニアがダイエットしてみた　〜 3ヶ月で9kgの減量 〜"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-23T22:28:45.000Z">2021-07-24</time></p><p class="title"><a href="/cats-cats-cats/2021/07/24/it-engineer-diet/">コロナ禍のITエンジニアがダイエットしてみた　〜 3ヶ月で9kgの減量 〜</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Miscellaneous/">Miscellaneous</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/03/16/contextual-abstructions/"><img src="/cats-cats-cats/gallery/thumbnails/eiga_film.png" alt="Contextual Abstractionsで様々なコンテキストをうまく抽象化する"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-03-15T22:28:45.000Z">2021-03-16</time></p><p class="title"><a href="/cats-cats-cats/2021/03/16/contextual-abstructions/">Contextual Abstractionsで様々なコンテキストをうまく抽象化する</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Language/">Language</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/02/22/access-analytics/"><img src="/cats-cats-cats/gallery/profile/cats-cats-cats-logo.png" alt="猫の日なので「cats cats cats」のGoogleアナリティクスとGoogleサーチコンソールの結果を晒してみる"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-02-21T22:28:45.000Z">2021-02-22</time></p><p class="title"><a href="/cats-cats-cats/2021/02/22/access-analytics/">猫の日なので「cats cats cats」のGoogleアナリティクスとGoogleサーチコンソールの結果を晒してみる</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Miscellaneous/">Miscellaneous</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2021/02/01/m1-mac-dev-env/"><img src="/cats-cats-cats/gallery/thumbnails/pose_necchuu_computer_man.png" alt="絶対にRosetta 2を入れてはいけないM1 Mac開発環境構築 2021-2-1版"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-01-31T22:28:45.000Z">2021-02-01</time></p><p class="title"><a href="/cats-cats-cats/2021/02/01/m1-mac-dev-env/">絶対にRosetta 2を入れてはいけないM1 Mac開発環境構築 2021-2-1版</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Miscellaneous/">Miscellaneous</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/cats-cats-cats/2020/12/31/2020-last/"><img src="/cats-cats-cats/gallery/thumbnails/pose_furikaeru_man.png" alt="2020年の技術的な振り返り"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-12-30T22:28:45.000Z">2020-12-31</time></p><p class="title"><a href="/cats-cats-cats/2020/12/31/2020-last/">2020年の技術的な振り返り</a></p><p class="categories"><a href="/cats-cats-cats/categories/Tech/">Tech</a> / <a href="/cats-cats-cats/categories/Tech/Miscellaneous/">Miscellaneous</a></p></div></article></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">リンク</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://zenn.dev/hinastory" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Zenn - hinastory</span></span><span class="level-right"><span class="level-item tag">zenn.dev</span></span></a></li><li><a class="level is-mobile" href="https://qiita.com/hinastory" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Qiita - hinastory</span></span><span class="level-right"><span class="level-item tag">qiita.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">カテゴリ</h3><ul class="menu-list"><li><a class="level is-mobile" href="/cats-cats-cats/categories/DIY/"><span class="level-start"><span class="level-item">DIY</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/cats-cats-cats/categories/DIY/Keyboard/"><span class="level-start"><span class="level-item">Keyboard</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/"><span class="level-start"><span class="level-item">Tech</span></span><span class="level-end"><span class="level-item tag">51</span></span></a><ul><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Book/"><span class="level-start"><span class="level-item">Book</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/CloudNative/"><span class="level-start"><span class="level-item">CloudNative</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/ComputerScience/"><span class="level-start"><span class="level-item">ComputerScience</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Event/"><span class="level-start"><span class="level-item">Event</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Language/"><span class="level-start"><span class="level-item">Language</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/MachineLearning/"><span class="level-start"><span class="level-item">MachineLearning</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Miscellaneous/"><span class="level-start"><span class="level-item">Miscellaneous</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/categories/Tech/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">アーカイブ</h3><ul class="menu-list"><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/07/"><span class="level-start"><span class="level-item">2021-07</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/03/"><span class="level-start"><span class="level-item">2021-03</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2021/02/"><span class="level-start"><span class="level-item">2021-02</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2020/"><span class="level-start"><span class="level-item">2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2019/"><span class="level-start"><span class="level-item">2019</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile" href="/cats-cats-cats/archives/2018/"><span class="level-start"><span class="level-item">2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">タグ</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/AWS/"><span class="tag">AWS</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/AdventCalendar/"><span class="tag">AdventCalendar</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Azure/"><span class="tag">Azure</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Blog/"><span class="tag">Blog</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Book/"><span class="tag">Book</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/CDK/"><span class="tag">CDK</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/CategoryTheory/"><span class="tag">CategoryTheory</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Cats/"><span class="tag">Cats</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Certification/"><span class="tag">Certification</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Compiler/"><span class="tag">Compiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Container/"><span class="tag">Container</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Diet/"><span class="tag">Diet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Dotty/"><span class="tag">Dotty</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Environment/"><span class="tag">Environment</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/ErgoDash/"><span class="tag">ErgoDash</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Event/"><span class="tag">Event</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Exam/"><span class="tag">Exam</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/FizzBuzz/"><span class="tag">FizzBuzz</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Flourish/"><span class="tag">Flourish</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/GCP/"><span class="tag">GCP</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Git/"><span class="tag">Git</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Go/"><span class="tag">Go</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/IaC/"><span class="tag">IaC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Interpreter/"><span class="tag">Interpreter</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Jupyter/"><span class="tag">Jupyter</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Keras/"><span class="tag">Keras</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Keyboard/"><span class="tag">Keyboard</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Keymap/"><span class="tag">Keymap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/M1/"><span class="tag">M1</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/MLOps/"><span class="tag">MLOps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Mac/"><span class="tag">Mac</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/MachineLearning/"><span class="tag">MachineLearning</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/MakerFaire/"><span class="tag">MakerFaire</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Mind/"><span class="tag">Mind</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Minikube/"><span class="tag">Minikube</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/OGP/"><span class="tag">OGP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Qiita/"><span class="tag">Qiita</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/ReView/"><span class="tag">ReView</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Ruby/"><span class="tag">Ruby</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Rust/"><span class="tag">Rust</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/SEO/"><span class="tag">SEO</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Scala/"><span class="tag">Scala</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Serverless/"><span class="tag">Serverless</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/StepFunctions/"><span class="tag">StepFunctions</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/TensorFlow/"><span class="tag">TensorFlow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/WFH/"><span class="tag">WFH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/Web/"><span class="tag">Web</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/WebAnalytics/"><span class="tag">WebAnalytics</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/gRPC/"><span class="tag">gRPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/html5/"><span class="tag">html5</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/k8s/"><span class="tag">k8s</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/npm/"><span class="tag">npm</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/oEmbed/"><span class="tag">oEmbed</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/cats-cats-cats/tags/pulumi/"><span class="tag">pulumi</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div class="level"><figure class="level-item image is-64x64 mx-auto"><img class="avatar is-rounded" src="https://www.gravatar.com/avatar/1d029a154310d0edb970e8caaf5dc5ec?s=128" alt="hinastory"></figure><div class="level-item"><div><p class="title is-size-4 is-block ml-1" style="line-height:inherit;display:block;">hinastory</p><p class="is-size-6 is-flex justify-content-center ml-3"><i class="fas fa-map-marker-alt mr-1"></i><span>Kanagawa, Japan</span></p></div></div></div></div></nav><nav class="level is-mobile"><p class="is-size-6 is-block">The more you reason the less you create</p></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">投稿</p><a href="/cats-cats-cats/archives"><p class="title">55</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">カテゴリ</p><a href="/cats-cats-cats/categories"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">タグ</p><a href="/cats-cats-cats/tags"><p class="title">57</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hinastory/"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/hinastory999"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/cats-cats-cats/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目次</h3><ul class="menu-list"><li><a class="level is-mobile" href="#TL-DR"><span class="level-left"><span class="level-item">1</span><span class="level-item">TL;DR</span></span></a></li><li><a class="level is-mobile" href="#Rustが影響を受けた言語"><span class="level-left"><span class="level-item">2</span><span class="level-item">Rustが影響を受けた言語</span></span></a></li><li><a class="level is-mobile" href="#Rustが影響を受けた機能"><span class="level-left"><span class="level-item">3</span><span class="level-item">Rustが影響を受けた機能</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#代数的データ型-algebraic-data-types"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">代数的データ型(algebraic data types)</span></span></a></li><li><a class="level is-mobile" href="#パターンマッチ-pattern-matching"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">パターンマッチ(pattern matching)</span></span></a></li><li><a class="level is-mobile" href="#型推論-type-inference"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">型推論(type inference)</span></span></a></li><li><a class="level is-mobile" href="#セミコロンの文区切り-semicolon-statement-separation"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">セミコロンの文区切り(semicolon statement separation)</span></span></a></li><li><a class="level is-mobile" href="#参照-references"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">参照(references)</span></span></a></li><li><a class="level is-mobile" href="#RAII-Resource-Acquisition-Is-Initialization"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">RAII(Resource Acquisition Is Initialization)</span></span></a></li><li><a class="level is-mobile" href="#スマートポインタ-smart-pointers"><span class="level-left"><span class="level-item">3.7</span><span class="level-item">スマートポインタ(smart pointers)</span></span></a></li><li><a class="level is-mobile" href="#ムーブセマンティクス-move-semantics"><span class="level-left"><span class="level-item">3.8</span><span class="level-item">ムーブセマンティクス(move semantics)</span></span></a></li><li><a class="level is-mobile" href="#単相化-monomorphization"><span class="level-left"><span class="level-item">3.9</span><span class="level-item">単相化(monomorphization)</span></span></a></li><li><a class="level is-mobile" href="#メモリモデル-memory-model"><span class="level-left"><span class="level-item">3.10</span><span class="level-item">メモリモデル(memory model)</span></span></a></li><li><a class="level is-mobile" href="#リージョンベースのメモリ管理-region-based-memory-management"><span class="level-left"><span class="level-item">3.11</span><span class="level-item">リージョンベースのメモリ管理(region based memory management)</span></span></a></li><li><a class="level is-mobile" href="#型クラス-typeclasses-、型族-type-families"><span class="level-left"><span class="level-item">3.12</span><span class="level-item">型クラス(typeclasses)、型族(type families)</span></span></a></li><li><a class="level is-mobile" href="#チャネル-channels-並行性-concurrency"><span class="level-left"><span class="level-item">3.13</span><span class="level-item">チャネル(channels), 並行性(concurrency)</span></span></a></li><li><a class="level is-mobile" href="#メッセージパッシング-message-passing-スレッド失敗-thread-failure"><span class="level-left"><span class="level-item">3.14</span><span class="level-item">メッセージパッシング(message passing), スレッド失敗(thread failure)</span></span></a></li><li><a class="level is-mobile" href="#オプショナルバインディング"><span class="level-left"><span class="level-item">3.15</span><span class="level-item">オプショナルバインディング</span></span></a></li><li><a class="level is-mobile" href="#衛生的マクロ-hygienic-macros"><span class="level-left"><span class="level-item">3.16</span><span class="level-item">衛生的マクロ(hygienic macros)</span></span></a></li><li><a class="level is-mobile" href="#属性-attributes"><span class="level-left"><span class="level-item">3.17</span><span class="level-item">属性(attributes)</span></span></a></li><li><a class="level is-mobile" href="#クロージャー記法（closure-syntax）"><span class="level-left"><span class="level-item">3.18</span><span class="level-item">クロージャー記法（closure syntax）</span></span></a></li></ul></li><li><a class="level is-mobile" href="#影響の可視化"><span class="level-left"><span class="level-item">4</span><span class="level-item">影響の可視化</span></span></a></li><li><a class="level is-mobile" href="#まとめ"><span class="level-left"><span class="level-item">5</span><span class="level-item">まとめ</span></span></a></li><li><a class="level is-mobile" href="#参考文献"><span class="level-left"><span class="level-item">6</span><span class="level-item">参考文献</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/cats-cats-cats/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/cats-cats-cats/"><img src="/cats-cats-cats/gallery/profile/cats-cats-cats-logo.png" alt="cats cats cats" height="28"></a><p class="is-size-7"><span>&copy; 2021 hinastory</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ja");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/cats-cats-cats/js/column.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><a id="back-to-top" title="トップに戻る" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/cats-cats-cats/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "このウェブサイトはあなたの経験を改善するためにCookieを使用しています。",
          dismiss: "了解しました",
          allow: "Cookiesを許可する",
          deny: "拒否する",
          link: "もっと詳しく知る",
          policy: "Cookieポリシー",
          href: "https://hinastory.github.io/cats-cats-cats/about/#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E8%A7%A3%E6%9E%90%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="/cats-cats-cats/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="何かを入力してください..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/cats-cats-cats/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/cats-cats-cats/content.json"}, {"hint":"何かを入力してください...","untitled":"(無題)","posts":"投稿","pages":"ページ","categories":"カテゴリ","tags":"タグ"});
        });</script></body></html>